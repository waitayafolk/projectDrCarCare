import{_ as v}from"./DialogCloseBtn.2861bddc.js";import{s as h}from"./axios.b493e35e.js";import{y as C,bn as D,bo as B,o as g,c as x,m as o,p as t,w as a,A as _,z as i,a1 as S,a2 as N,bq as T,F as U,a as z,bg as k,bi as F,bp as V,x as u}from"./index.ea85ecb6.js";import{f as P}from"./helpers.segment.1007a634.js";import{t as q}from"./thaiDateNotime.28095d2c.js";import{d as E}from"./derlimiter.4329166e.js";import{S as n}from"./sweetalert2.all.e105506d.js";import{a as d,V as w}from"./VRow.eef3b3d1.js";import{V as m}from"./VBtn.60f3fdee.js";import{V as L}from"./VTable.81f7c46f.js";import{V as p}from"./VTextField.4dcbd561.js";import{V as M}from"./VDialog.2370032f.js";import"./axios.364130a5.js";import"./index.b85de81c.js";import"./easing.36b781ab.js";import"./forwardRefs.c003b6b8.js";import"./scopeId.6a877fb8.js";import"./lazy.7949a3d6.js";const O={name:"user-profile",computed:{moment(){return D}},data(){return{loading:!0,derlimiter:E,thaiDateNotime:q,pagination:[],page:1,route:B(),show:!1,servicesGroup:[],packet:{id:0,title:"",detail:"",price:0,status:!1,count:0,created_date:new Date},packets:[]}},methods:{formatNumber:P,async getData(){this.loading=!0,await h({method:"get",url:"/packet",data:[],params:[]}).then(r=>{this.packets=r.data,this.loading=!1}).catch(r=>{console.log(r)})},async saveData(){if(this.packet.title==""||this.packet.detail==""||this.packet.price==0||this.packet.count==0)return this.show=!1,n.fire({icon:"error",title:"Error",text:"\u0E01\u0E23\u0E38\u0E13\u0E23\u0E32\u0E01\u0E23\u0E2D\u0E01\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E43\u0E2B\u0E49\u0E04\u0E23\u0E1A !!"});await h({method:"post",url:"/packet/save",data:this.packet,params:[]}).then(r=>{r.status=="success"&&(n.fire({icon:"success",title:"Success",text:r.message}),this.show=!1,this.getData())}).catch(r=>{console.log(r),this.show=!1,n.fire({icon:"error",title:"Oops...",text:"Something went wrong!"})})},async openModal(){this.show=!0,this.packet={id:0,title:"",detail:"",price:0,count:0}},async deletePacket(r){n.fire({title:"\u0E17\u0E33\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23?",text:"\u0E15\u0E49\u0E2D\u0E07\u0E01\u0E32\u0E23\u0E25\u0E1A\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes"}).then(async l=>{l.isConfirmed&&await h({method:"delete",url:`/packet/${r.id}`,data:[],params:[]}).then(c=>{c.status=="success"&&(n.fire({icon:"success",title:"Success",text:c.message}),this.show=!1,this.getData())}).catch(c=>{console.log(c),this.show=!1,n.fire({icon:"error",title:"Oops...",text:"Something went wrong!"})})})}},mounted(){this.getData()}},R={mode:"out-in"},j=o("h1",null,"\u0E08\u0E31\u0E14\u0E01\u0E32\u0E23\u0E41\u0E1E\u0E47\u0E04\u0E40\u0E01\u0E08",-1),A={class:"v-overlay--absolute text-center w-100 h-100",style:{"background-color":"rgba(255,255,255,.8)","z-index":"9"}},G=o("thead",null,[o("tr",null,[o("th",{style:{"text-align":"start"}},"\u0E2B\u0E31\u0E27\u0E02\u0E49\u0E2D"),o("th",{style:{"text-align":"start"}},"\u0E23\u0E32\u0E22\u0E25\u0E30\u0E40\u0E2D\u0E35\u0E22\u0E14"),o("th",{style:{"text-align":"start"}},"\u0E23\u0E32\u0E04\u0E32"),o("th",{style:{"text-align":"start"}},"\u0E08\u0E33\u0E19\u0E27\u0E19"),o("th",{style:{"text-align":"center"}},"\u0E27\u0E31\u0E19\u0E17\u0E35\u0E48\u0E2A\u0E23\u0E49\u0E32\u0E07"),o("th",{style:{"text-align":"center"}},"\u0E41\u0E01\u0E49\u0E44\u0E02")])],-1),I={style:{"text-align":"start"}},Y={style:{"text-align":"start"}},H={style:{"text-align":"start"}},J={style:{"text-align":"start"}},K={style:{"text-align":"center"}},Q={style:{"text-align":"center"}};function W(r,l,c,X,s,f){const y=v;return g(),x("div",null,[o("div",R,[t(w,{class:"mb-3"},{default:a(()=>[t(d,null,{default:a(()=>[j]),_:1}),t(d,{md:"2",class:"text-end"},{default:a(()=>[t(m,{onClick:l[0]||(l[0]=e=>f.openModal())},{default:a(()=>[t(_,{start:"",icon:"tabler-square-rounded-plus-filled"}),i(" \u0E40\u0E1E\u0E34\u0E48\u0E21\u0E41\u0E1E\u0E47\u0E04\u0E40\u0E01\u0E08 ")]),_:1})]),_:1})]),_:1})]),t(k,null,{default:a(()=>[S(o("div",A,[t(T,{indeterminate:"",color:"primary"})],512),[[N,s.loading]]),t(L,{"fixed-header":"",density:"compact",class:"text-no-wrap"},{default:a(()=>[G,o("tbody",null,[(g(!0),x(U,null,z(s.packets,e=>(g(),x("tr",null,[o("td",I,u(e.title),1),o("td",Y,u(e.detail),1),o("td",H,u(e.price),1),o("td",J,u(e.count),1),o("td",K,u(s.thaiDateNotime(e.created_date)),1),o("td",Q,[t(m,{size:"small",color:"error",onClick:b=>f.deletePacket(e)},{default:a(()=>[t(_,{start:"",icon:"tabler-trash"}),i(" \u0E25\u0E1A ")]),_:2},1032,["onClick"]),t(m,{size:"small",color:"primary",onClick:b=>(s.packet=e,s.show=!0)},{default:a(()=>[t(_,{start:"",icon:"tabler-edit"}),i(" \u0E41\u0E01\u0E49\u0E44\u0E02 ")]),_:2},1032,["onClick"])])]))),256))])]),_:1})]),_:1}),t(M,{modelValue:s.show,"onUpdate:modelValue":l[8]||(l[8]=e=>s.show=e),"max-width":"800"},{default:a(()=>[t(y,{onClick:l[1]||(l[1]=e=>s.show=!1)}),t(k,null,{default:a(()=>[t(F,null,{default:a(()=>[i(" \u0E08\u0E31\u0E14\u0E01\u0E32\u0E23\u0E41\u0E1E\u0E47\u0E04\u0E40\u0E01\u0E08 ")]),_:1}),t(V,null,{default:a(()=>[t(w,null,{default:a(()=>[t(d,{cols:"6",md:"6"},{default:a(()=>[t(p,{type:"text",modelValue:s.packet.title,"onUpdate:modelValue":l[2]||(l[2]=e=>s.packet.title=e),label:"\u0E41\u0E1E\u0E47\u0E04\u0E40\u0E01\u0E08"},null,8,["modelValue"])]),_:1}),t(d,{cols:"6",md:"6"},{default:a(()=>[t(p,{type:"number",modelValue:s.packet.price,"onUpdate:modelValue":l[3]||(l[3]=e=>s.packet.price=e),label:"\u0E23\u0E32\u0E04\u0E32"},null,8,["modelValue"])]),_:1}),t(d,{cols:"12",md:"12"},{default:a(()=>[t(p,{type:"text",modelValue:s.packet.detail,"onUpdate:modelValue":l[4]||(l[4]=e=>s.packet.detail=e),label:"\u0E23\u0E32\u0E22\u0E25\u0E30\u0E40\u0E2D\u0E35\u0E22\u0E14"},null,8,["modelValue"])]),_:1}),t(d,{cols:"12",md:"12"},{default:a(()=>[t(p,{type:"number",modelValue:s.packet.count,"onUpdate:modelValue":l[5]||(l[5]=e=>s.packet.count=e),label:"\u0E08\u0E33\u0E19\u0E27\u0E19\u0E01\u0E32\u0E23\u0E25\u0E49\u0E32\u0E07"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),t(V,{class:"d-flex justify-end flex-wrap gap-3"},{default:a(()=>[t(m,{variant:"tonal",color:"secondary",onClick:l[6]||(l[6]=e=>s.show=!1)},{default:a(()=>[i(" \u0E1B\u0E34\u0E14 ")]),_:1}),t(m,{color:"primary",onClick:l[7]||(l[7]=e=>f.saveData())},{default:a(()=>[i(" \u0E1A\u0E31\u0E19\u0E17\u0E36\u0E01\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25 ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])])}const gt=C(O,[["render",W]]);export{gt as default};
