import{c as E,d as j,V as z}from"./VTextField.b4489767.js";import{m as K,u as H,V as J,a as T}from"./VList.6f0d9876.js";import{ac as S,M as F,J as Q,a6 as x,a8 as g,L as O,p as s,a3 as h,a4 as W,a5 as q,Q as G,W as R,k as w,F as X,ab as Y,z as Z,aC as ee}from"./index.3095b11b.js";import{f as le}from"./forwardRefs.c003b6b8.js";import{V as ne}from"./scopeId.d00165e8.js";import{V as te}from"./VMenu.cadb1fab.js";import{m as ae,V as oe}from"./VSelectionControl.44aa3818.js";import{V as ue}from"./VChip.9efc2b01.js";const se=S({indeterminate:Boolean,indeterminateIcon:{type:F,default:"$checkboxIndeterminate"},...ae({falseIcon:"$checkboxOff",trueIcon:"$checkboxOn"})},"v-checkbox-btn"),ie=Q({name:"VCheckboxBtn",props:se(),emits:{"update:modelValue":e=>!0,"update:indeterminate":e=>!0},setup(e,b){let{slots:a}=b;const k=x(e,"indeterminate"),r=x(e,"modelValue");function o(C){k.value&&(k.value=!1)}const d=g(()=>e.indeterminate?e.indeterminateIcon:e.falseIcon),D=g(()=>e.indeterminate?e.indeterminateIcon:e.trueIcon);return O(()=>s(oe,h(e,{modelValue:r.value,"onUpdate:modelValue":[C=>r.value=C,o],class:"v-checkbox-btn",type:"checkbox",inline:!0,falseIcon:d.value,trueIcon:D.value,"aria-checked":e.indeterminate?"mixed":void 0}),a)),{}}}),ce=S({chips:Boolean,closableChips:Boolean,eager:Boolean,hideNoData:Boolean,hideSelected:Boolean,menu:Boolean,menuIcon:{type:F,default:"$dropdown"},menuProps:{type:Object},multiple:Boolean,noDataText:{type:String,default:"$vuetify.noDataText"},openOnClear:Boolean,...K({itemChildren:!1})},"v-select"),ke=W()({name:"VSelect",props:{...ce(),...q(E({modelValue:null}),["validationValue","dirty","appendInnerIcon"]),...G({transition:{component:ne}})},emits:{"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,b){let{slots:a}=b;const{t:k}=R(),r=w(),o=x(e,"menu"),{items:d,transformIn:D,transformOut:C}=H(e),i=x(e,"modelValue",[],l=>D(ee(l)),l=>{var t;const n=C(l);return e.multiple?n:(t=n[0])!=null?t:null}),P=g(()=>i.value.map(l=>d.value.find(n=>n.value===l.value)||l)),B=g(()=>P.value.map(l=>l.props.value)),m=w();function _(l){i.value=[],e.openOnClear&&(o.value=!0)}function $(){e.hideNoData&&!d.value.length||e.readonly||(o.value=!o.value)}function N(l){if(!e.readonly){if(["Enter","ArrowDown"," "].includes(l.key)&&(l.preventDefault(),o.value=!0),["Escape","Tab"].includes(l.key)&&(o.value=!1),l.key==="ArrowDown"){var n;(n=m.value)==null||n.focus("next")}else if(l.key==="ArrowUp"){var t;l.preventDefault(),(t=m.value)==null||t.focus("prev")}else if(l.key==="Home"){var v;l.preventDefault(),(v=m.value)==null||v.focus("first")}else if(l.key==="End"){var f;l.preventDefault(),(f=m.value)==null||f.focus("last")}}}function I(l){if(e.multiple){const n=B.value.findIndex(t=>t===l.value);if(n===-1)i.value=[...i.value,l];else{const t=[...i.value];t.splice(n,1),i.value=t}}else i.value=[l],o.value=!1}function U(l){var n;(n=m.value)!=null&&n.$el.contains(l.relatedTarget)||(o.value=!1)}function A(l){if(l.relatedTarget==null){var n;(n=r.value)==null||n.focus()}}return O(()=>{const l=!!(e.chips||a.chip),[n]=j(e);return s(z,h({ref:r},n,{modelValue:i.value.map(t=>t.props.value).join(", "),"onUpdate:modelValue":t=>{t==null&&(i.value=[])},validationValue:i.externalValue,dirty:i.value.length>0,class:["v-select",{"v-select--active-menu":o.value,"v-select--chips":!!e.chips,[`v-select--${e.multiple?"multiple":"single"}`]:!0,"v-select--selected":i.value.length}],appendInnerIcon:e.menuIcon,readonly:!0,"onClick:clear":_,"onClick:control":$,onBlur:U,onKeydown:N}),{...a,default:()=>{var t,v,f;return s(X,null,[s(te,h({modelValue:o.value,"onUpdate:modelValue":u=>o.value=u,activator:"parent",contentClass:"v-select__content",eager:e.eager,openOnClick:!1,closeOnContentClick:!1,transition:e.transition},e.menuProps),{default:()=>[s(J,{ref:m,selected:B.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:u=>u.preventDefault(),onFocusout:A},{default:()=>{var u;return[!d.value.length&&!e.hideNoData&&((u=(t=a["no-data"])==null?void 0:t.call(a))!=null?u:s(T,{title:k(e.noDataText)},null)),(v=a["prepend-item"])==null?void 0:v.call(a),d.value.map((c,y)=>{var V;var p;return(V=(p=a.item)==null?void 0:p.call(a,{item:c,index:y,props:h(c.props,{onClick:()=>I(c)})}))!=null?V:s(T,h({key:y},c.props,{onClick:()=>I(c)}),{prepend:L=>{let{isSelected:M}=L;return e.multiple&&!e.hideSelected?s(ie,{modelValue:M,ripple:!1},null):void 0}})}),(f=a["append-item"])==null?void 0:f.call(a)]}})]}),P.value.map((u,c)=>{function y(V){V.stopPropagation(),V.preventDefault(),I(u)}const p={"onClick:close":y,modelValue:!0,"onUpdate:modelValue":void 0};return s("div",{key:u.value,class:"v-select__selection"},[l?s(Y,{defaults:{VChip:{closable:e.closableChips,size:"small",text:u.title}}},{default:()=>[a.chip?a.chip({item:u,index:c,props:p}):s(ue,p,null)]}):a.selection?a.selection({item:u,index:c}):s("span",{class:"v-select__selection-text"},[u.title,e.multiple&&c<P.value.length-1&&s("span",{class:"v-select__selection-comma"},[Z(",")])])])})])}})}),le({menu:o,select:I},r)}});export{ke as V,ie as a,ce as m};
