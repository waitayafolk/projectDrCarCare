import{_ as C}from"./DialogCloseBtn.c4d6e4c7.js";import{y as v,bp as S,bq as k,bd as y,o as i,c as u,m as t,p as a,w as o,bm as c,z as h,bl as B,a1 as F,a2 as N,bs as T,F as f,a as x,x as n,bh as D,bj as z,br as V}from"./index.86c412e1.js";import{f as M}from"./helpers.segment.1007a634.js";import{t as U}from"./thaiDateNotime.28095d2c.js";import{d as Y}from"./derlimiter.4329166e.js";import"./sweetalert2.all.e105506d.js";import{V as b}from"./VTextField.c9631f5f.js";import{V as m}from"./VBtn.109c336b.js";import{V as p}from"./VTable.9dbe4a5b.js";import{V as j}from"./VDialog.357c36fa.js";import"./index.beaccebb.js";import"./easing.36b781ab.js";import"./forwardRefs.c003b6b8.js";import"./scopeId.521ae612.js";import"./lazy.72574a30.js";const L={name:"user-profile",computed:{moment(){return S}},data(){return{bill_detail:[],openDetail:!1,loading:!0,derlimiter:Y,thaiDateNotime:U,pagination:[],page:1,route:k(),report_day:[],datestart:`${new Date().getFullYear()}-${String(new Date().getMonth()+1).padStart(2,"0")}-${String(new Date().getDate()).padStart(2,"0")}`,dateend:`${new Date().getFullYear()}-${String(new Date().getMonth()+1).padStart(2,"0")}-${String(new Date().getDate()).padStart(2,"0")}`,totalDay:0,totalCash:0,totalCredit:0}},methods:{formatNumber:M,async getData(){let d={start_date:this.datestart,end_date:this.dateend};this.loading=!0,await y({method:"post",url:"/report/day",data:d,params:[]}).then(s=>{this.totalDay=0,this.totalCash=0,this.totalCredit=0;for(let r of s.data)this.totalCash+=r.cash,this.totalCredit+=r.credit,this.totalDay+=r.total;this.report_day=s.data,this.loading=!1}).catch(s=>{console.log(s)})},async detailData(d){let s=`${new Date(d.date).getFullYear()}-${String(new Date(d.date).getMonth()+1).padStart(2,"0")}-${String(new Date(d.date).getDate()).padStart(2,"0")}`;this.openDetail=!0,await y({method:"post",url:"/report/getBill",data:{date:s},params:[]}).then(_=>{this.bill_detail=_.data}).catch(_=>{console.log(_)})},async searchData(){this.getData()}},mounted(){this.getData()}},R={mode:"out-in"},q=t("h1",null,"\u0E23\u0E32\u0E22\u0E07\u0E32\u0E19\u0E23\u0E32\u0E22\u0E27\u0E31\u0E19",-1),E={class:"v-overlay--absolute text-center w-100 h-100",style:{"background-color":"rgba(255,255,255,.8)","z-index":"9"}},P=t("thead",null,[t("tr",null,[t("th",{style:{"text-align":"start"}},"\u0E27\u0E31\u0E19\u0E17\u0E35\u0E48"),t("th",{style:{"text-align":"end"}},"\u0E40\u0E07\u0E34\u0E19\u0E2A\u0E14"),t("th",{style:{"text-align":"end"}},"\u0E40\u0E07\u0E34\u0E19\u0E42\u0E2D\u0E19"),t("th",{style:{"text-align":"end"}},"\u0E22\u0E2D\u0E14\u0E23\u0E27\u0E21"),t("th",{style:{"text-align":"center"}},"\u0E23\u0E32\u0E22\u0E25\u0E30\u0E40\u0E2D\u0E35\u0E22\u0E14")])],-1),A={style:{"text-align":"start"}},G={style:{"text-align":"end"}},H={style:{"text-align":"end"}},I={style:{"text-align":"end"}},J={style:{"text-align":"center"}},K=t("td",{style:{"text-align":"start"}},"\u0E23\u0E27\u0E21",-1),O={style:{"text-align":"end"}},Q={style:{"text-align":"end"}},W={style:{"text-align":"end"}},X=t("thead",null,[t("tr",null,[t("th",{style:{"text-align":"start"}},"\u0E1B\u0E23\u0E30\u0E40\u0E20\u0E17"),t("th",{style:{"text-align":"start"}},"\u0E25\u0E39\u0E01\u0E04\u0E49\u0E32"),t("th",{style:{"text-align":"start"}},"\u0E40\u0E1A\u0E2D\u0E23\u0E4C\u0E42\u0E17\u0E23\u0E25\u0E39\u0E01\u0E04\u0E49\u0E32"),t("th",{style:{"text-align":"end"}},"\u0E04\u0E48\u0E32\u0E1A\u0E23\u0E34\u0E01\u0E32\u0E23"),t("th",{style:{"text-align":"end"}},"\u0E2A\u0E48\u0E27\u0E19\u0E25\u0E14"),t("th",{style:{"text-align":"end"}},"\u0E23\u0E27\u0E21")])],-1),Z={style:{"text-align":"start"}},$={style:{"text-align":"start"}},tt={style:{"text-align":"start"}},et={style:{"text-align":"end"}},at={style:{"text-align":"end"}},lt={style:{"text-align":"end"}};function st(d,s,r,_,l,g){const w=C;return i(),u("div",null,[t("div",R,[a(B,{class:"mb-3"},{default:o(()=>[a(c,null,{default:o(()=>[q]),_:1}),a(c,{md:"3",class:"text-end"},{default:o(()=>[a(b,{type:"date",modelValue:l.datestart,"onUpdate:modelValue":s[0]||(s[0]=e=>l.datestart=e),label:"\u0E27\u0E31\u0E19\u0E17\u0E35\u0E48"},null,8,["modelValue"])]),_:1}),a(c,{md:"3",class:"text-end"},{default:o(()=>[a(b,{type:"date",modelValue:l.dateend,"onUpdate:modelValue":s[1]||(s[1]=e=>l.dateend=e),label:"\u0E27\u0E31\u0E19\u0E17\u0E35\u0E48"},null,8,["modelValue"])]),_:1}),a(c,{md:"3",class:"text-start"},{default:o(()=>[a(m,{onClick:s[2]||(s[2]=e=>g.searchData())},{default:o(()=>[h(" \u0E04\u0E49\u0E19\u0E2B\u0E32 ")]),_:1})]),_:1})]),_:1})]),a(D,null,{default:o(()=>[F(t("div",E,[a(T,{indeterminate:"",color:"primary"})],512),[[N,l.loading]]),a(p,{"fixed-header":"",density:"compact",class:"text-no-wrap"},{default:o(()=>[P,t("tbody",null,[(i(!0),u(f,null,x(l.report_day,e=>(i(),u("tr",null,[t("td",A,n(l.thaiDateNotime(e.date)),1),t("td",G,n(l.derlimiter(e.cash)),1),t("td",H,n(l.derlimiter(e.credit)),1),t("td",I,n(l.derlimiter(e.total)),1),t("th",J,[a(m,{size:"small",color:"primary",onClick:ot=>g.detailData(e),block:"",class:"mt-1"},{default:o(()=>[h(" \u0E23\u0E32\u0E22\u0E25\u0E30\u0E40\u0E2D\u0E35\u0E22\u0E14 ")]),_:2},1032,["onClick"])])]))),256))]),t("tbody",null,[t("tr",null,[K,t("td",O,n(l.derlimiter(l.totalCash)),1),t("td",Q,n(l.derlimiter(l.totalCredit)),1),t("td",W,n(l.derlimiter(l.totalDay)),1)])])]),_:1})]),_:1}),a(j,{modelValue:l.openDetail,"onUpdate:modelValue":s[5]||(s[5]=e=>l.openDetail=e),"max-width":"800"},{default:o(()=>[a(w,{onClick:s[3]||(s[3]=e=>l.openDetail=!1)}),a(D,null,{default:o(()=>[a(z,null,{default:o(()=>[h(" \u0E23\u0E32\u0E22\u0E01\u0E32\u0E23\u0E02\u0E2D\u0E07\u0E27\u0E31\u0E19 ")]),_:1}),a(V,null,{default:o(()=>[a(p,{"fixed-header":"",density:"compact",class:"text-no-wrap"},{default:o(()=>[a(c,{cols:"12"},{default:o(()=>[a(p,{"fixed-header":"",density:"compact",class:"text-no-wrap"},{default:o(()=>[X,t("tbody",null,[(i(!0),u(f,null,x(l.bill_detail,e=>(i(),u("tr",null,[t("td",Z,n(e.name_service==null?"\u0E0B\u0E37\u0E49\u0E2D\u0E42\u0E1B\u0E23\u0E42\u0E21\u0E0A\u0E31\u0E48\u0E19":e.name_service),1),t("td",$,n(e.name_customer),1),t("td",tt,n(e.mobile),1),t("td",et,n(e.price),1),t("td",at,n(e.discount),1),t("td",lt,n(e.price-e.discount),1)]))),256))])]),_:1})]),_:1})]),_:1})]),_:1}),a(V,{class:"d-flex justify-end flex-wrap gap-3"},{default:o(()=>[a(m,{variant:"tonal",color:"secondary",onClick:s[4]||(s[4]=e=>l.openDetail=!1)},{default:o(()=>[h(" \u0E1B\u0E34\u0E14 ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])])}const Vt=v(L,[["render",st]]);export{Vt as default};
