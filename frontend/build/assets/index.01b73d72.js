import{_ as v}from"./DialogCloseBtn.7f629336.js";import{y as C,bp as D,bq as B,bd as h,o as g,c as x,m as s,p as t,w as a,bm as i,A as _,z as n,bl as k,a1 as S,a2 as N,bs as T,F as U,a as z,bh as V,bj as F,br as w,x as u}from"./index.982c45c7.js";import{f as P}from"./helpers.segment.1007a634.js";import{t as j}from"./thaiDateNotime.28095d2c.js";import{d as q}from"./derlimiter.4329166e.js";import{S as d}from"./sweetalert2.all.e105506d.js";import{V as m}from"./VBtn.dd0be6a2.js";import{V as E}from"./VTable.72454dd9.js";import{V as p}from"./VTextField.7da1d2e1.js";import{V as L}from"./VDialog.0df03e9e.js";import"./index.bec81b91.js";import"./easing.36b781ab.js";import"./forwardRefs.c003b6b8.js";import"./scopeId.77e27523.js";import"./lazy.33f651dc.js";const M={name:"user-profile",computed:{moment(){return D}},data(){return{loading:!0,derlimiter:q,thaiDateNotime:j,pagination:[],page:1,route:B(),show:!1,servicesGroup:[],packet:{id:0,title:"",detail:"",price:0,status:!1,count:0,created_date:new Date},packets:[]}},methods:{formatNumber:P,async getData(){this.loading=!0,await h({method:"get",url:"/packet",data:[],params:[]}).then(r=>{this.packets=r.data,this.loading=!1}).catch(r=>{console.log(r)})},async saveData(){if(this.packet.title==""||this.packet.detail==""||this.packet.price==0||this.packet.count==0)return this.show=!1,d.fire({icon:"error",title:"Error",text:"\u0E01\u0E23\u0E38\u0E13\u0E23\u0E32\u0E01\u0E23\u0E2D\u0E01\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E43\u0E2B\u0E49\u0E04\u0E23\u0E1A !!"});await h({method:"post",url:"/packet/save",data:this.packet,params:[]}).then(r=>{r.status=="success"&&(d.fire({icon:"success",title:"Success",text:r.message}),this.show=!1,this.getData())}).catch(r=>{console.log(r),this.show=!1,d.fire({icon:"error",title:"Oops...",text:"Something went wrong!"})})},async openModal(){this.show=!0,this.packet={id:0,title:"",detail:"",price:0,count:0}},async deletePacket(r){d.fire({title:"\u0E17\u0E33\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23?",text:"\u0E15\u0E49\u0E2D\u0E07\u0E01\u0E32\u0E23\u0E25\u0E1A\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes"}).then(async l=>{l.isConfirmed&&await h({method:"delete",url:`/packet/${r.id}`,data:[],params:[]}).then(c=>{c.status=="success"&&(d.fire({icon:"success",title:"Success",text:c.message}),this.show=!1,this.getData())}).catch(c=>{console.log(c),this.show=!1,d.fire({icon:"error",title:"Oops...",text:"Something went wrong!"})})})}},mounted(){this.getData()}},O={mode:"out-in"},R=s("h1",null,"\u0E08\u0E31\u0E14\u0E01\u0E32\u0E23\u0E41\u0E1E\u0E47\u0E04\u0E40\u0E01\u0E08",-1),A={class:"v-overlay--absolute text-center w-100 h-100",style:{"background-color":"rgba(255,255,255,.8)","z-index":"9"}},G=s("thead",null,[s("tr",null,[s("th",{style:{"text-align":"start"}},"\u0E2B\u0E31\u0E27\u0E02\u0E49\u0E2D"),s("th",{style:{"text-align":"start"}},"\u0E23\u0E32\u0E22\u0E25\u0E30\u0E40\u0E2D\u0E35\u0E22\u0E14"),s("th",{style:{"text-align":"start"}},"\u0E23\u0E32\u0E04\u0E32"),s("th",{style:{"text-align":"start"}},"\u0E08\u0E33\u0E19\u0E27\u0E19"),s("th",{style:{"text-align":"center"}},"\u0E27\u0E31\u0E19\u0E17\u0E35\u0E48\u0E2A\u0E23\u0E49\u0E32\u0E07"),s("th",{style:{"text-align":"center"}},"\u0E41\u0E01\u0E49\u0E44\u0E02")])],-1),I={style:{"text-align":"start"}},Y={style:{"text-align":"start"}},H={style:{"text-align":"start"}},J={style:{"text-align":"start"}},K={style:{"text-align":"center"}},Q={style:{"text-align":"center"}};function W(r,l,c,X,o,f){const y=v;return g(),x("div",null,[s("div",O,[t(k,{class:"mb-3"},{default:a(()=>[t(i,null,{default:a(()=>[R]),_:1}),t(i,{md:"2",class:"text-end"},{default:a(()=>[t(m,{onClick:l[0]||(l[0]=e=>f.openModal())},{default:a(()=>[t(_,{start:"",icon:"tabler-square-rounded-plus-filled"}),n(" \u0E40\u0E1E\u0E34\u0E48\u0E21\u0E41\u0E1E\u0E47\u0E04\u0E40\u0E01\u0E08 ")]),_:1})]),_:1})]),_:1})]),t(V,null,{default:a(()=>[S(s("div",A,[t(T,{indeterminate:"",color:"primary"})],512),[[N,o.loading]]),t(E,{"fixed-header":"",density:"compact",class:"text-no-wrap"},{default:a(()=>[G,s("tbody",null,[(g(!0),x(U,null,z(o.packets,e=>(g(),x("tr",null,[s("td",I,u(e.title),1),s("td",Y,u(e.detail),1),s("td",H,u(e.price),1),s("td",J,u(e.count),1),s("td",K,u(o.thaiDateNotime(e.created_date)),1),s("td",Q,[t(m,{size:"small",color:"error",onClick:b=>f.deletePacket(e)},{default:a(()=>[t(_,{start:"",icon:"tabler-trash"}),n(" \u0E25\u0E1A ")]),_:2},1032,["onClick"]),t(m,{size:"small",color:"primary",onClick:b=>(o.packet=e,o.show=!0)},{default:a(()=>[t(_,{start:"",icon:"tabler-edit"}),n(" \u0E41\u0E01\u0E49\u0E44\u0E02 ")]),_:2},1032,["onClick"])])]))),256))])]),_:1})]),_:1}),t(L,{modelValue:o.show,"onUpdate:modelValue":l[8]||(l[8]=e=>o.show=e),"max-width":"800"},{default:a(()=>[t(y,{onClick:l[1]||(l[1]=e=>o.show=!1)}),t(V,null,{default:a(()=>[t(F,null,{default:a(()=>[n(" \u0E08\u0E31\u0E14\u0E01\u0E32\u0E23\u0E41\u0E1E\u0E47\u0E04\u0E40\u0E01\u0E08 ")]),_:1}),t(w,null,{default:a(()=>[t(k,null,{default:a(()=>[t(i,{cols:"6",md:"6"},{default:a(()=>[t(p,{type:"text",modelValue:o.packet.title,"onUpdate:modelValue":l[2]||(l[2]=e=>o.packet.title=e),label:"\u0E41\u0E1E\u0E47\u0E04\u0E40\u0E01\u0E08"},null,8,["modelValue"])]),_:1}),t(i,{cols:"6",md:"6"},{default:a(()=>[t(p,{type:"number",modelValue:o.packet.price,"onUpdate:modelValue":l[3]||(l[3]=e=>o.packet.price=e),label:"\u0E23\u0E32\u0E04\u0E32"},null,8,["modelValue"])]),_:1}),t(i,{cols:"12",md:"12"},{default:a(()=>[t(p,{type:"text",modelValue:o.packet.detail,"onUpdate:modelValue":l[4]||(l[4]=e=>o.packet.detail=e),label:"\u0E23\u0E32\u0E22\u0E25\u0E30\u0E40\u0E2D\u0E35\u0E22\u0E14"},null,8,["modelValue"])]),_:1}),t(i,{cols:"12",md:"12"},{default:a(()=>[t(p,{type:"number",modelValue:o.packet.count,"onUpdate:modelValue":l[5]||(l[5]=e=>o.packet.count=e),label:"\u0E08\u0E33\u0E19\u0E27\u0E19\u0E01\u0E32\u0E23\u0E25\u0E49\u0E32\u0E07"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),t(w,{class:"d-flex justify-end flex-wrap gap-3"},{default:a(()=>[t(m,{variant:"tonal",color:"secondary",onClick:l[6]||(l[6]=e=>o.show=!1)},{default:a(()=>[n(" \u0E1B\u0E34\u0E14 ")]),_:1}),t(m,{color:"primary",onClick:l[7]||(l[7]=e=>f.saveData())},{default:a(()=>[n(" \u0E1A\u0E31\u0E19\u0E17\u0E36\u0E01\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25 ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])])}const pt=C(M,[["render",W]]);export{pt as default};
