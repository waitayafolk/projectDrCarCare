import{k as l,bF as y,o as k,b as L,w as t,p as e,bh as w,br as m,bG as S,bl as c,bm as i,q as u,bc as f,z as I,m as v,H as B}from"./index.3c95d40c.js";import{u as p,m as C,a as N}from"./misc-mask-light.a72d6000.js";import{V as D,r as _}from"./validators.6da2b5e8.js";import{S as g}from"./sweetalert2.all.e105506d.js";import{a as R,b as T,c as U,d as F}from"./auth-v2-login-illustration-light.a2530d13.js";import{b as V}from"./route-block.011d1056.js";import{V as b}from"./VTextField.243e87f6.js";import{V as J}from"./VBtn.de188946.js";import"./forwardRefs.c003b6b8.js";import"./index.9239a81b.js";import"./easing.36b781ab.js";const M=v("h5",{class:"text-h5 font-weight-semibold mb-1"}," \u0E2A\u0E21\u0E31\u0E04\u0E23\u0E2A\u0E21\u0E32\u0E0A\u0E34\u0E01 Dr.Carcare ! \u{1F44B}\u{1F3FB} ",-1),O={__name:"register",setup(j){p(F,U,T,R,!0),p(N,C),l(!1);const r=l(""),o=l("");l(!1),l(0);const h=y.create({baseURL:"http://188.166.221.231:4600/"}),x=async()=>{let d=new URL(window.location).search.split("?user_id=")[1],a={mobile:r.value,name:o.value,user_id:d},s=await h.post("register/",a,{headers:{"Content-Type":"application/json"}}).then(n=>n.data).catch(n=>n.response.data);s.status=="success"?(localStorage.setItem("isLogin",JSON.stringify(!0)),localStorage.setItem("token",JSON.stringify(s.token)),localStorage.setItem("user_data",JSON.stringify(s.data)),B.push({path:"/success"}),g.fire({icon:"success",title:"Success",text:"Login success!"})):g.fire({icon:"error",title:"\u0E40\u0E02\u0E49\u0E32\u0E2A\u0E39\u0E48\u0E23\u0E30\u0E1A\u0E1A\u0E44\u0E21\u0E48\u0E2A\u0E33\u0E40\u0E23\u0E47\u0E08...",text:"\u0E44\u0E21\u0E48\u0E21\u0E35\u0E2A\u0E21\u0E32\u0E0A\u0E34\u0E01\u0E43\u0E19\u0E23\u0E30\u0E1A\u0E1A!"})};return(d,a)=>(k(),L(c,{"no-gutters":"",class:"auth-wrapper"},{default:t(()=>[e(i,{cols:"12",lg:"12",class:"d-flex align-center justify-center"},{default:t(()=>[e(w,{class:"mt-12 mt-sm-0 pa-4"},{default:t(()=>[e(m,null,{default:t(()=>[M]),_:1}),e(m,null,{default:t(()=>[e(D,{onSubmit:a[2]||(a[2]=S(()=>{x()},["prevent"]))},{default:t(()=>[e(c,null,{default:t(()=>[e(i,{cols:"12"},{default:t(()=>[e(b,{modelValue:u(o),"onUpdate:modelValue":a[0]||(a[0]=s=>f(o)?o.value=s:null),label:"\u0E0A\u0E37\u0E48\u0E2D",type:"text",rules:[u(_)]},null,8,["modelValue","rules"])]),_:1}),e(i,{cols:"12"},{default:t(()=>[e(b,{modelValue:u(r),"onUpdate:modelValue":a[1]||(a[1]=s=>f(r)?r.value=s:null),label:"\u0E40\u0E1A\u0E2D\u0E23\u0E4C\u0E42\u0E17\u0E23",type:"text",rules:[u(_)]},null,8,["modelValue","rules"])]),_:1}),e(i,{cols:"12"},{default:t(()=>[e(J,{block:"",type:"submit"},{default:t(()=>[I(" \u0E25\u0E07\u0E17\u0E30\u0E40\u0E1A\u0E35\u0E22\u0E19 ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}};typeof V=="function"&&V(O);export{O as default};
