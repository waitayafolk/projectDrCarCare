import{_ as y}from"./DialogCloseBtn.a9eea126.js";import{y as x,S as h,U as V,o as k,c as b,p as t,w as e,P as u,O as d,Q as p,E as c,A as U,z as i,N as f,m as n,F as C,a as v,v as _,M as D}from"./index.08e9078e.js";import{V as B}from"./VTable.794b1e77.js";import{V as g}from"./VChip.d13526f8.js";import{V as M}from"./VSelect.8ea6ce08.js";import{V as S}from"./VDialog.74576e46.js";import"./VList.2ba00a19.js";import"./VDivider.6a220979.js";import"./scopeId.7dd2bcb9.js";import"./lazy.06c7709b.js";import"./VMenu.80d823a6.js";import"./VCheckboxBtn.79b29e49.js";import"./VSelectionControl.e15bfe62.js";const A=h.create({baseURL:"https://api.niyomlotto.com/"}),N={components:{},data(){return{showModal:!1,banks:[],allBank:[],blankUserData:{bank_id:"",bank_account:"",bank_no:"",role:"",id:"",role_id:"",create_at:"",status:"",status_bank:""}}},mounted(){this.getBacnksAccount(),this.getAllbanks()},methods:{async openModal(){this.showModal=!0,this.blankUserData.bank_id="",this.blankUserData.bank_account="",this.blankUserData.bank_no="",this.blankUserData.role="",this.blankUserData.id="",this.blankUserData.role_id="",this.blankUserData.create_at="",this.blankUserData.status="",this.blankUserData.status_bank=""},async getBacnksAccount(){let o=await h.get("https://api.niyomlotto.com/admin/get_bankaccount",{headers:{Authorization:`bearer ${JSON.parse(localStorage.getItem("token"))}`,"Content-type":"application/json"}}).then(a=>a.data).catch(a=>a.response.data);this.banks=o.result},async getAllbanks(){let o=await h.get("https://api.niyomlotto.com/banks",{headers:{Authorization:`bearer ${JSON.parse(localStorage.getItem("token"))}`,"Content-type":"application/json"}}).then(r=>r.data).catch(r=>r.response.data),a=[];for(let r of o.result)a.push({text:r.official_name,value:r.id});this.allBank=a},async edit(o){this.showModal=!0,this.blankUserData=o},async saveData(){(await A.post("admin/add_bankaccount",this.blankUserData,{headers:{Authorization:`bearer ${JSON.parse(localStorage.getItem("token"))}`,"Content-Type":"application/json"}}).then(a=>a.data).catch(a=>a.response.data)).status=="success"?(this.showModal=!1,V.fire({title:"Success!",text:"\u0E17\u0E33\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23 \u0E2A\u0E33\u0E40\u0E23\u0E47\u0E08",icon:"success",confirmButtonText:"Ok"}),this.getBacnksAccount()):(this.showModal=!1,V.fire({title:"Error!",text:"\u0E17\u0E33\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23\u0E44\u0E21\u0E48\u0E2A\u0E33\u0E40\u0E23\u0E47\u0E08",icon:"error",confirmButtonText:"Ok"}))}}},T=n("h1",null,"\u0E1A\u0E31\u0E0D\u0E0A\u0E35\u0E1D\u0E32\u0E01-\u0E16\u0E2D\u0E19",-1),O=n("thead",null,[n("tr",null,[n("th",null,"\u0E18\u0E19\u0E32\u0E04\u0E32\u0E23"),n("th",null,"\u0E0A\u0E37\u0E48\u0E2D\u0E1A\u0E31\u0E0D\u0E0A\u0E35"),n("th",null,"\u0E40\u0E25\u0E02\u0E17\u0E35\u0E48\u0E1A\u0E31\u0E0D\u0E0A\u0E35"),n("th",null,"\u0E2A\u0E16\u0E32\u0E19\u0E30"),n("th",null,"\u0E23\u0E30\u0E1A\u0E1A\u0E41\u0E08\u0E49\u0E07\u0E1D\u0E32\u0E01\u0E2D\u0E31\u0E15\u0E42\u0E19\u0E21\u0E31\u0E15\u0E34"),n("th",null,"\u0E01\u0E23\u0E30\u0E17\u0E33")])],-1);function j(o,a,r,z,s,m){const w=y;return k(),b("div",null,[t(d,{class:"mb-3"},{default:e(()=>[t(u,null,{default:e(()=>[T]),_:1})]),_:1}),t(d,{justify:"space-between",class:"mb-3"},{default:e(()=>[t(u,{md:"6"},{default:e(()=>[t(d,null,{default:e(()=>[t(u,{md:"6"},{default:e(()=>[t(p,{label:"\u0E04\u0E49\u0E19\u0E2B\u0E32","prepend-inner-icon":"tabler-search"})]),_:1})]),_:1})]),_:1}),t(u,{md:"auto"},{default:e(()=>[t(c,{onClick:a[0]||(a[0]=l=>m.openModal()),color:"primary"},{default:e(()=>[t(U,{start:"",icon:"tabler-plus"}),i(" \u0E40\u0E1E\u0E34\u0E48\u0E21\u0E1A\u0E31\u0E0D\u0E0A\u0E35\u0E1D\u0E32\u0E01-\u0E16\u0E2D\u0E19 ")]),_:1})]),_:1})]),_:1}),t(D,null,{default:e(()=>[t(f,null,{default:e(()=>[t(B,null,{default:e(()=>[O,n("tbody",null,[(k(!0),b(C,null,v(s.banks,l=>(k(),b("tr",null,[n("td",null,_(l.official_name),1),n("td",null,_(l.bank_account),1),n("td",null,_(l.bank_no),1),n("td",null,[t(g,{color:"success"},{default:e(()=>[i("\u0E40\u0E1B\u0E34\u0E14\u0E43\u0E0A\u0E49\u0E07\u0E32\u0E19")]),_:1})]),n("td",null,[t(g,{color:"success"},{default:e(()=>[i("\u0E40\u0E1B\u0E34\u0E14\u0E43\u0E0A\u0E49\u0E07\u0E32\u0E19")]),_:1})]),n("td",null,[t(c,{onClick:I=>m.edit(l),size:"small",class:"mr-2"},{default:e(()=>[t(U,{icon:"tabler-settings"}),i(" \u0E41\u0E01\u0E49\u0E44\u0E02")]),_:2},1032,["onClick"])])]))),256))])]),_:1})]),_:1})]),_:1}),t(S,{modelValue:s.showModal,"onUpdate:modelValue":a[7]||(a[7]=l=>s.showModal=l),"max-width":"800"},{default:e(()=>[t(w,{onClick:a[1]||(a[1]=l=>s.showModal=!1)}),t(D,{title:"\u0E40\u0E1E\u0E34\u0E48\u0E21 \u0E1A\u0E31\u0E0D\u0E0A\u0E35\u0E1D\u0E32\u0E01-\u0E16\u0E2D\u0E19"},{default:e(()=>[t(f,null,{default:e(()=>[t(d,null,{default:e(()=>[t(u,{cols:"6",sm:"6",md:"6"},{default:e(()=>[t(p,{modelValue:s.blankUserData.bank_account,"onUpdate:modelValue":a[2]||(a[2]=l=>s.blankUserData.bank_account=l),label:"\u0E0A\u0E37\u0E48\u0E2D\u0E1A\u0E31\u0E0D\u0E0A\u0E35\u0E18\u0E19\u0E32\u0E04\u0E32\u0E23",placeholder:"\u0E0A\u0E37\u0E48\u0E2D\u0E1A\u0E31\u0E0D\u0E0A\u0E35\u0E18\u0E19\u0E32\u0E04\u0E32\u0E23"},null,8,["modelValue"])]),_:1}),t(u,{cols:"6",sm:"6",md:"6"},{default:e(()=>[t(p,{modelValue:s.blankUserData.bank_no,"onUpdate:modelValue":a[3]||(a[3]=l=>s.blankUserData.bank_no=l),label:"\u0E40\u0E25\u0E02\u0E1A\u0E31\u0E0D\u0E0A\u0E35\u0E18\u0E19\u0E32\u0E04\u0E32\u0E23",placeholder:"\u0E40\u0E25\u0E02\u0E1A\u0E31\u0E0D\u0E0A\u0E35\u0E18\u0E19\u0E32\u0E04\u0E32\u0E23"},null,8,["modelValue"])]),_:1}),t(u,{cols:"12",sm:"12",md:"12"},{default:e(()=>[t(M,{modelValue:s.blankUserData.bank_id,"onUpdate:modelValue":a[4]||(a[4]=l=>s.blankUserData.bank_id=l),label:"\u0E40\u0E25\u0E37\u0E2D\u0E01\u0E18\u0E19\u0E32\u0E04\u0E32\u0E23",items:s.allBank,"item-title":"text","item-value":"value"},null,8,["modelValue","items"])]),_:1})]),_:1})]),_:1}),t(f,{class:"d-flex justify-end flex-wrap gap-3"},{default:e(()=>[t(c,{variant:"tonal",color:"secondary",onClick:a[5]||(a[5]=l=>s.showModal=!1)},{default:e(()=>[i(" Close ")]),_:1}),t(c,{onClick:a[6]||(a[6]=l=>m.saveData())},{default:e(()=>[i(" Save ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])])}const Y=x(N,[["render",j]]);export{Y as default};
