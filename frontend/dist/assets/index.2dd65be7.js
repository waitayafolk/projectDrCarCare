import{_ as ne}from"./DialogCloseBtn.a9eea126.js";import{G as oe,bG as se,bz as ie,bH as ue,aF as re,Z as de,a0 as C,c2 as L,k as v,I as ce,bE as me,bJ as fe,bK as ve,p as e,bM as pe,a4 as P,F,b_ as ge,bP as Ve,a5 as be,b$ as j,aL as Ce,y as ye,r as H,o as $,c as R,m as r,w as n,O as S,P as w,E as y,A as x,z,a as _e,v as M,M as G,N as J,bX as ke}from"./index.08e9078e.js";import{V as he}from"./VTable.794b1e77.js";import{V as ze}from"./VChip.d13526f8.js";import{V as Ie}from"./VDialog.74576e46.js";import"./scopeId.7dd2bcb9.js";import"./lazy.06c7709b.js";const Be=oe({name:"VFileInput",inheritAttrs:!1,props:{chips:Boolean,counter:Boolean,counterSizeString:{type:String,default:"$vuetify.fileInput.counterSize"},counterString:{type:String,default:"$vuetify.fileInput.counter"},multiple:Boolean,hint:String,persistentHint:Boolean,placeholder:String,showSize:{type:[Boolean,Number],default:!1,validator:l=>typeof l=="boolean"||[1e3,1024].includes(l)},...se({prependIcon:"$file"}),modelValue:{type:Array,default:()=>[],validator:l=>ie(l).every(o=>o!=null&&typeof o=="object")},...ue({clearable:!0})},emits:{"click:control":l=>!0,"update:modelValue":l=>!0},setup(l,o){let{attrs:g,emit:a,slots:d}=o;const{t:I}=re(),i=de(l,"modelValue"),u=C(()=>typeof l.showSize!="boolean"?l.showSize:void 0),V=C(()=>{var t;return((t=i.value)!=null?t:[]).reduce((c,m)=>{let{size:k=0}=m;return c+k},0)}),s=C(()=>L(V.value,u.value)),_=C(()=>{var t;return((t=i.value)!=null?t:[]).map(c=>{const{name:m="",size:k=0}=c;return l.showSize?`${m} (${L(k,u.value)})`:m})}),K=C(()=>{var m;var t;const c=(m=(t=i.value)==null?void 0:t.length)!=null?m:0;return l.showSize?I(l.counterSizeString,c,s.value):I(l.counterString,c)}),N=v(),U=v(),b=v(!1),f=v(),O=C(()=>l.messages.length?l.messages:l.persistentHint?l.hint:"");function D(){if(f.value!==document.activeElement){var t;(t=f.value)==null||t.focus()}b.value||(b.value=!0)}function X(t){j(l["onClick:prepend"],t),A(t)}function A(t){var c;(c=f.value)==null||c.click(),a("click:control",t)}function Z(t){t.stopPropagation(),D(),Ce(()=>{i.value=[],f!=null&&f.value&&(f.value.value=""),j(l["onClick:clear"],t)})}return ce(()=>{const t=!!(d.counter||l.counter),c=!!(t||d.details),[m,k]=me(g),[{modelValue:De,...q}]=fe(l),[Q]=ve(l);return e(Ve,P({ref:N,modelValue:i.value,"onUpdate:modelValue":h=>i.value=h,class:"v-file-input","onClick:prepend":X,"onClick:append":l["onClick:append"]},m,q,{focused:b.value,messages:O.value}),{...d,default:h=>{let{isDisabled:B,isDirty:E,isReadonly:W,isValid:Y}=h;return e(pe,P({ref:U,"prepend-icon":l.prependIcon,"onClick:control":A,"onClick:clear":Z,"onClick:prependInner":l["onClick:prependInner"],"onClick:appendInner":l["onClick:appendInner"]},Q,{active:E.value||b.value,dirty:E.value,focused:b.value,error:Y.value===!1}),{...d,default:ee=>{let{props:{class:le,...ae}}=ee;return e(F,null,[e("input",P({ref:f,type:"file",readonly:W.value,disabled:B.value,multiple:l.multiple,name:l.name,onClick:p=>{p.stopPropagation(),D()},onChange:p=>{var T;if(!p.target)return;const te=p.target;i.value=[...(T=te.files)!=null?T:[]]},onFocus:D,onBlur:()=>b.value=!1},ae,k),null),e("div",{class:le},[i.value.length>0&&(d.selection?d.selection({fileNames:_.value,totalBytes:V.value,totalBytesReadable:s.value}):l.chips?_.value.map(p=>e(ze,{key:p,size:"small",color:l.color},{default:()=>[p]})):_.value.join(", "))])])}})},details:c?h=>{var B;return e(F,null,[(B=d.details)==null?void 0:B.call(d,h),t&&e(F,null,[e("span",null,null),e(ge,{active:!!i.value.length,value:K.value},d.counter)])])}:void 0})}),be({},N,U,f)}}),Se={setup(){const l=v("https://api.niyomlotto.com/"),o=v([]),g=v(!1),a=v({});return{Commission:o,isDialogVisible:g,input:a,UploadImage:async()=>{var u=new FormData;u.append("fileUpload",a.value.image);var V={method:"post",url:`${l.value}upload-banner`,data:u,headers:{"Content-Type":"multipart/form-data"}};ke(V).then(function(s){lotto.value=s.data.data}).catch(function(s){console.log(s)})},editBanner:async u=>{g.value=!0,a.value.id=u.item.id,a.value.image=u.item.image,a.value.size=u.item.size,a.value.status=u.item.status},addBanner:async()=>{g.value=!0,a.value.id="",a.value.image="",a.value.size="",a.value.status=""}}}},we=r("h3",null,"\u0E41\u0E1A\u0E19\u0E40\u0E19\u0E2D\u0E23\u0E4C",-1),xe=r("thead",null,[r("tr",null,[r("th",null,"\u0E41\u0E1A\u0E19\u0E40\u0E19\u0E2D\u0E23\u0E4C"),r("th",null,"\u0E02\u0E19\u0E32\u0E14"),r("td")])],-1);function Fe(l,o,g,a,d,I){const i=H("v-card-header"),u=H("v-card-body"),V=ne;return $(),R("div",null,[r("div",null,[e(G,{"no-body":"",class:"mb-0 p-10",style:{padding:"20px"}},{default:n(()=>[e(i,null,{default:n(()=>[we]),_:1}),e(u,null,{default:n(()=>[e(S,null,{default:n(()=>[e(w,{cols:"12",style:{"margin-top":"20px"}},{default:n(()=>[e(y,{onClick:o[0]||(o[0]=s=>a.addBanner()),size:"small",class:"mr-2"},{default:n(()=>[e(x,{icon:"tabler-plus"}),z(" \u0E40\u0E1E\u0E34\u0E48\u0E21\u0E41\u0E1A\u0E19\u0E40\u0E19\u0E2D\u0E23\u0E4C ")]),_:1})]),_:1})]),_:1}),e(S,null,{default:n(()=>[e(w,{cols:"12",style:{"margin-top":"20px"}},{default:n(()=>[e(he,{class:"text-no-wrap invoice-list-table"},{default:n(()=>[xe,r("tbody",null,[($(!0),R(F,null,_e(a.Commission,s=>($(),R("tr",null,[r("td",null,M(s.image),1),r("td",null,M(s.size),1),r("td",null,[e(y,{onClick:_=>l.editNews(s),size:"small",class:"mr-2"},{default:n(()=>[e(x,{icon:"tabler-settings"}),z(" \u0E41\u0E01\u0E49\u0E44\u0E02 ")]),_:2},1032,["onClick"]),e(y,{onClick:_=>l.deleteNewsList(s),color:"error",size:"small"},{default:n(()=>[e(x,{icon:"tabler-x"})]),_:2},1032,["onClick"])])]))),256))])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),r("div",null,[e(Ie,{modelValue:a.isDialogVisible,"onUpdate:modelValue":o[6]||(o[6]=s=>a.isDialogVisible=s),"max-width":"500"},{default:n(()=>[e(V,{onClick:o[1]||(o[1]=s=>a.isDialogVisible=!a.isDialogVisible)}),e(G,{title:"\u0E2D\u0E31\u0E1E\u0E42\u0E2B\u0E25\u0E14\u0E41\u0E1A\u0E19\u0E40\u0E19\u0E2D\u0E23\u0E4C"},{default:n(()=>[e(J,null,{default:n(()=>[e(S,null,{default:n(()=>[e(w,{cols:"12",sm:"12",md:"12"},{default:n(()=>[e(Be,{"show-size":"",label:"Banner",modelValue:a.input.image,"onUpdate:modelValue":o[2]||(o[2]=s=>a.input.image=s)},null,8,["modelValue"])]),_:1})]),_:1}),e(S,{style:{"margin-top":"20px"}},{default:n(()=>[e(w,{cols:"12",sm:"12",md:"12"},{default:n(()=>[e(y,{onClick:o[3]||(o[3]=s=>a.UploadImage()),size:"small",class:"mr-2"},{default:n(()=>[e(x,{icon:"tabler-settings"}),z(" Uplpad ")]),_:1})]),_:1})]),_:1})]),_:1}),e(J,{class:"d-flex justify-end flex-wrap gap-3"},{default:n(()=>[e(y,{variant:"tonal",color:"secondary",onClick:o[4]||(o[4]=s=>a.isDialogVisible=!1)},{default:n(()=>[z(" Close ")]),_:1}),e(y,{onClick:o[5]||(o[5]=s=>l.onSubmit())},{default:n(()=>[z(" Save ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])])])}const Te=ye(Se,[["render",Fe]]);export{Te as default};
