import{_ as M}from"./DialogCloseBtn.a9eea126.js";import{y as S,S as N,U as _,o as u,c as g,p as e,w as o,P as d,O as h,Q as x,E as m,z as n,N as p,m as l,F as B,a as T,v as i,b as w,L as k,M as y}from"./index.08e9078e.js";import{h as W}from"./moment.9709ab41.js";import{f as O}from"./helpers.segment.1007a634.js";import{V as j}from"./VTable.794b1e77.js";import{V as b}from"./VChip.d13526f8.js";import{V as C}from"./VSelect.8ea6ce08.js";import{V as D}from"./VDialog.74576e46.js";import"./VList.2ba00a19.js";import"./VDivider.6a220979.js";import"./scopeId.7dd2bcb9.js";import"./lazy.06c7709b.js";import"./VMenu.80d823a6.js";import"./VCheckboxBtn.79b29e49.js";import"./VSelectionControl.e15bfe62.js";const V=N.create({baseURL:"https://api.niyomlotto.com/"}),U={components:{},data(){return{showModalWithdraw:!1,showModalDeposit:!1,tranfer:{credit_transaction:0,bank_account_id:0},bank_account:[],currentPage:1,length:0,data:[],moment:W}},mounted(){this.getData(),this.getBankAccount()},methods:{formatNumber:O,async opendepositcredit(){this.showModalDeposit=!0,this.tranfer.credit_transaction=0,this.tranfer.bank_account_id=""},async openwidthdrawcredit(){this.showModalWithdraw=!0,this.tranfer.credit_transaction=0,this.tranfer.bank_account_id=""},async getData(){let c=await V.get("/master/get_deposit_master",{headers:{Authorization:`bearer ${JSON.parse(localStorage.getItem("token"))}`,"Content-type":"application/json"}}).then(t=>t.data).catch(t=>t.response.data);this.data=c.data},async saveDeposit(){this.tranfer.credit_transaction=Number(this.tranfer.credit_transaction),(await V.post("/master/add_agents_deposit",this.tranfer,{headers:{Authorization:`bearer ${JSON.parse(localStorage.getItem("token"))}`,"Content-Type":"application/json"}}).then(t=>t.data).catch(t=>t.response.data)).message=="success"?(_.fire({title:"Success!",text:"\u0E17\u0E33\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23 \u0E2A\u0E33\u0E40\u0E23\u0E47\u0E08",icon:"success",confirmButtonText:"Ok"}),this.getData(),this.showModalDeposit=!1):(this.showModalDeposit=!1,_.fire({title:"Error!",text:"\u0E17\u0E33\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23\u0E44\u0E21\u0E48\u0E2A\u0E33\u0E40\u0E23\u0E47\u0E08",icon:"error",confirmButtonText:"Ok"}))},async saveWithdraw(){this.tranfer.credit_transaction=Number(this.tranfer.credit_transaction),console.log(this.tranfer),(await V.post("/master/add_agents_widthdraw",this.tranfer,{headers:{Authorization:`bearer ${JSON.parse(localStorage.getItem("token"))}`,"Content-Type":"application/json"}}).then(t=>t.data).catch(t=>t.response.data)).message=="success"?(_.fire({title:"Success!",text:"\u0E17\u0E33\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23 \u0E2A\u0E33\u0E40\u0E23\u0E47\u0E08",icon:"success",confirmButtonText:"Ok"}),this.getData(),this.showModalWithdraw=!1):(this.showModalWithdraw=!1,_.fire({title:"Error!",text:"\u0E17\u0E33\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23\u0E44\u0E21\u0E48\u0E2A\u0E33\u0E40\u0E23\u0E47\u0E08",icon:"error",confirmButtonText:"Ok"}))},async getBankAccount(){let c=await V.get("/master/get_master_bank_account",{headers:{Authorization:`bearer ${JSON.parse(localStorage.getItem("token"))}`,"Content-type":"application/json"}}).then(r=>r.data).catch(r=>r.response.data),t=[];for(let r of c.result)t.push({text:`${r.official_name} \u0E1A\u0E31\u0E0D\u0E0A\u0E35${r.bank_account} \u0E40\u0E25\u0E02\u0E1A\u0E31\u0E0D\u0E0A\u0E35${r.bank_no}`,value:r.id});this.bank_account=t}}},Y=l("h1",null,"\u0E1D\u0E32\u0E01-\u0E16\u0E2D\u0E19\u0E41\u0E2D\u0E14\u0E21\u0E34\u0E19",-1),A=l("thead",null,[l("tr",null,[l("th",null,"\u0E27\u0E31\u0E19\u0E17\u0E35\u0E48"),l("th",null,"\u0E1C\u0E39\u0E49\u0E41\u0E08\u0E49\u0E07"),l("th",null,"\u0E40\u0E2D\u0E40\u0E22\u0E48\u0E19\u0E15\u0E4C"),l("th",{class:"text-end"},"\u0E40\u0E04\u0E23\u0E14\u0E34\u0E15"),l("th",null,"\u0E1B\u0E23\u0E40\u0E20\u0E17\u0E1E"),l("th",null,"\u0E18\u0E19\u0E32\u0E04\u0E32\u0E23"),l("th",null,"\u0E27\u0E31\u0E19\u0E17\u0E35\u0E48"),l("th",{class:"text-end"},"\u0E08\u0E33\u0E19\u0E27\u0E19"),l("th",null,"\u0E2B\u0E21\u0E32\u0E22\u0E40\u0E2B\u0E15\u0E38"),l("th",null,"\u0E2A\u0E16\u0E32\u0E19\u0E30"),l("th")])],-1),z={class:"text-end"},I={class:"text-no-wrap"},E=l("br",null,null,-1),J=l("br",null,null,-1),F={class:"text-end"},L=l("td",null,"-",-1),P={class:"text-no-wrap"};function R(c,t,r,q,s,f){const v=M;return u(),g("div",null,[e(h,{class:"mb-3",justify:"space-between"},{default:o(()=>[e(d,{md:"6"},{default:o(()=>[Y]),_:1}),e(d,{md:"6"},{default:o(()=>[e(h,{justify:"end"},{default:o(()=>[e(d,{md:"6"},{default:o(()=>[e(x,{label:"\u0E04\u0E49\u0E19\u0E2B\u0E32","prepend-inner-icon":"tabler-search"})]),_:1}),e(d,{md:"auto"},{default:o(()=>[e(m,{onClick:t[0]||(t[0]=a=>f.opendepositcredit()),color:"primary",class:"me-2"},{default:o(()=>[n("\u0E41\u0E08\u0E49\u0E07\u0E40\u0E15\u0E34\u0E21\u0E40\u0E14\u0E23\u0E14\u0E34\u0E15")]),_:1}),e(m,{onClick:t[1]||(t[1]=a=>f.openwidthdrawcredit()),color:"error"},{default:o(()=>[n("\u0E41\u0E08\u0E49\u0E07\u0E16\u0E2D\u0E19\u0E40\u0E14\u0E23\u0E14\u0E34\u0E15")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(y,null,{default:o(()=>[e(p,null,{default:o(()=>[e(j,null,{default:o(()=>[A,l("tbody",null,[(u(!0),g(B,null,T(s.data,a=>(u(),g("tr",null,[l("td",null,i(s.moment(String(a.created_at)).format("DD / MM / YYYY")),1),l("td",null,i(a.username),1),l("td",null,i(a.username),1),l("td",z,i(f.formatNumber(a.credit_transaction)),1),l("td",null,[a.type=="deposit"?(u(),w(b,{key:0,color:"success"},{default:o(()=>[n("\u0E1D\u0E32\u0E01\u0E1B\u0E01\u0E15\u0E34")]),_:1})):k("",!0),a.type!="deposit"?(u(),w(b,{key:1,color:"error"},{default:o(()=>[n("\u0E16\u0E2D\u0E19\u0E40\u0E04\u0E23\u0E14\u0E34\u0E15")]),_:1})):k("",!0)]),l("td",I,[n(i(a.official_name),1),E,n(" "+i(a.bank_account),1),J,n(" "+i(a.bank_no),1)]),l("td",null,i(s.moment(String(a.created_at)).format("DD / MM / YYYY")),1),l("td",F,i(f.formatNumber(a.credit_transaction)),1),L,l("td",P,[a.status=="success"?(u(),w(b,{key:0,color:"success"},{default:o(()=>[n("\u0E14\u0E33\u0E40\u0E19\u0E34\u0E19\u0E01\u0E32\u0E23\u0E41\u0E25\u0E49\u0E27")]),_:1})):k("",!0),n(),a.status!="success"?(u(),w(b,{key:1,color:"info"},{default:o(()=>[n("\u0E23\u0E2D\u0E14\u0E33\u0E40\u0E19\u0E34\u0E19\u0E01\u0E32\u0E23")]),_:1})):k("",!0)])]))),256))])]),_:1})]),_:1})]),_:1}),e(D,{modelValue:s.showModalDeposit,"onUpdate:modelValue":t[7]||(t[7]=a=>s.showModalDeposit=a),"max-width":"800"},{default:o(()=>[e(v,{onClick:t[2]||(t[2]=a=>s.showModalDeposit=!1)}),e(y,{title:"\u0E02\u0E2D\u0E40\u0E15\u0E34\u0E21\u0E40\u0E04\u0E23\u0E14\u0E34\u0E15"},{default:o(()=>[e(p,null,{default:o(()=>[e(h,null,{default:o(()=>[e(d,{cols:"12",sm:"12",md:"12"},{default:o(()=>[e(x,{type:"number",modelValue:s.tranfer.credit_transaction,"onUpdate:modelValue":t[3]||(t[3]=a=>s.tranfer.credit_transaction=a),label:"\u0E40\u0E04\u0E23\u0E14\u0E34\u0E15",placeholder:"\u0E40\u0E04\u0E23\u0E14\u0E34\u0E15"},null,8,["modelValue"])]),_:1}),e(d,{cols:"12",sm:"12",md:"12"},{default:o(()=>[e(C,{modelValue:s.tranfer.bank_account_id,"onUpdate:modelValue":t[4]||(t[4]=a=>s.tranfer.bank_account_id=a),label:"\u0E40\u0E25\u0E37\u0E2D\u0E01\u0E1A\u0E31\u0E0D\u0E0A\u0E35",items:s.bank_account,"item-title":"text","item-value":"value"},null,8,["modelValue","items"])]),_:1})]),_:1})]),_:1}),e(p,{class:"d-flex justify-end flex-wrap gap-3"},{default:o(()=>[e(m,{variant:"tonal",color:"secondary",onClick:t[5]||(t[5]=a=>s.showModalDeposit=!1)},{default:o(()=>[n(" Close ")]),_:1}),e(m,{onClick:t[6]||(t[6]=a=>f.saveDeposit())},{default:o(()=>[n(" Save ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(D,{modelValue:s.showModalWithdraw,"onUpdate:modelValue":t[13]||(t[13]=a=>s.showModalWithdraw=a),"max-width":"800"},{default:o(()=>[e(v,{onClick:t[8]||(t[8]=a=>s.showModalWithdraw=!1)}),e(y,{title:"\u0E02\u0E2D\u0E16\u0E2D\u0E19\u0E40\u0E04\u0E23\u0E14\u0E34\u0E15"},{default:o(()=>[e(p,null,{default:o(()=>[e(h,null,{default:o(()=>[e(d,{cols:"12",sm:"12",md:"12"},{default:o(()=>[e(x,{type:"number",modelValue:s.tranfer.credit_transaction,"onUpdate:modelValue":t[9]||(t[9]=a=>s.tranfer.credit_transaction=a),label:"\u0E40\u0E04\u0E23\u0E14\u0E34\u0E15",placeholder:"\u0E40\u0E04\u0E23\u0E14\u0E34\u0E15"},null,8,["modelValue"])]),_:1}),e(d,{cols:"12",sm:"12",md:"12"},{default:o(()=>[e(C,{modelValue:s.tranfer.bank_account_id,"onUpdate:modelValue":t[10]||(t[10]=a=>s.tranfer.bank_account_id=a),label:"\u0E40\u0E25\u0E37\u0E2D\u0E01\u0E1A\u0E31\u0E0D\u0E0A\u0E35",items:s.bank_account,"item-title":"text","item-value":"value"},null,8,["modelValue","items"])]),_:1})]),_:1})]),_:1}),e(p,{class:"d-flex justify-end flex-wrap gap-3"},{default:o(()=>[e(m,{variant:"tonal",color:"secondary",onClick:t[11]||(t[11]=a=>s.showModalWithdraw=!1)},{default:o(()=>[n(" Close ")]),_:1}),e(m,{onClick:t[12]||(t[12]=a=>f.saveWithdraw())},{default:o(()=>[n(" Save ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])])}const it=S(U,[["render",R]]);export{it as default};
