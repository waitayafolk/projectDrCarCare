import{_ as T}from"./DialogCloseBtn.a9eea126.js";import{y as P,k as c,bX as z,r as k,o as _,c as v,m as n,p as t,w as l,O as V,P as m,E as d,A as g,z as f,F as w,a as O,v as b,M as D,N as B,Q as S,U as i}from"./index.08e9078e.js";import{h as L}from"./moment.9709ab41.js";import{V as U}from"./VTable.794b1e77.js";import{V as Y}from"./VDialog.74576e46.js";import"./scopeId.7dd2bcb9.js";import"./lazy.06c7709b.js";const A={setup(){const x=c("https://api.niyomlotto.com/"),e=c({id:0,header:"",detail:"",created_date:"",status:"",agents_id:"",master_id:""});let r=c(!1);const a=c([]),C=async()=>{r.value=!0,e.value.id=0,e.value.header="",e.value.detail="",e.value.created_date="",e.value.status="",e.value.agents_id="",e.value.master_id=""},h=async s=>{r.value=!0,e.value.id=s.id,e.value.header=s.header,e.value.detail=s.detail,e.value.created_date=s.created_date,e.value.status=s.status,e.value.agents_id=s.agents_id,e.value.master_id=s.master_id};var p={method:"get",url:`${x.value}agents/get_popup`,headers:{Authorization:`bearer ${JSON.parse(localStorage.getItem("token"))}`,"Content-type":"application/json"}};z(p).then(function(s){a.value=s.data.resule}).catch(function(s){console.log(s)});const u=async()=>{a.value=data.resule};return{input:e,isDialogVisible:r,popupData:a,moment:L,addPopup:C,editPopup:h,deleteNewsList:async s=>{i.fire({title:"\u0E22\u0E37\u0E19\u0E22\u0E31\u0E19\u0E17\u0E33\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23 ?",text:"\u0E25\u0E1A\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23 !",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"OK"}).then(async N=>{N.isConfirmed==!0?res.status=="success"?(await u(),i.fire("\u0E17\u0E33\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23\u0E2A\u0E33\u0E40\u0E23\u0E47\u0E08!","\u0E17\u0E33\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23\u0E40\u0E40\u0E25\u0E49\u0E27","success")):i.fire("\u0E17\u0E33\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23\u0E44\u0E21\u0E48\u0E2A\u0E33\u0E40\u0E23\u0E47\u0E08!","\u0E25\u0E2D\u0E07\u0E43\u0E2B\u0E21\u0E48\u0E2D\u0E35\u0E01\u0E04\u0E23\u0E31\u0E49\u0E07","error"):i.fire("\u0E17\u0E33\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23\u0E44\u0E21\u0E48\u0E2A\u0E33\u0E40\u0E23\u0E47\u0E08!","\u0E25\u0E2D\u0E07\u0E43\u0E2B\u0E21\u0E48\u0E2D\u0E35\u0E01\u0E04\u0E23\u0E31\u0E49\u0E07","error")})},onSubmit:async()=>{result.status=="success"?(await u(),r=!1,i.fire({title:"Success!",text:"\u0E40\u0E1E\u0E34\u0E48\u0E21\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23\u0E2A\u0E33\u0E40\u0E23\u0E47\u0E08",icon:"success",confirmButtonText:"Ok"})):i.fire({title:"Error!",text:"\u0E40\u0E01\u0E34\u0E14\u0E02\u0E49\u0E2D\u0E1C\u0E34\u0E14\u0E1E\u0E25\u0E32\u0E14\u0E42\u0E1B\u0E23\u0E14\u0E25\u0E2D\u0E07\u0E43\u0E2B\u0E21\u0E48",icon:"error",confirmButtonText:"Ok"})}}}},E=n("h3",null,"\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23\u0E1B\u0E47\u0E2D\u0E1B\u0E2D\u0E31\u0E1E",-1),F=n("thead",null,[n("tr",null,[n("th",null,"\u0E2B\u0E31\u0E27\u0E02\u0E49\u0E2D \u0E1B\u0E49\u0E2D\u0E1A\u0E2D\u0E31\u0E1E"),n("th",null,"\u0E23\u0E32\u0E22\u0E25\u0E30\u0E40\u0E2D\u0E35\u0E22\u0E14"),n("th",null,"\u0E1B\u0E23\u0E30\u0E01\u0E32\u0E28\u0E40\u0E21\u0E37\u0E48\u0E2D"),n("td")])],-1);function M(x,e,r,a,C,h){const p=k("v-card-header"),u=k("v-card-body"),y=T;return _(),v(w,null,[n("div",null,[t(D,{"no-body":"",class:"mb-0 p-10",style:{padding:"20px"}},{default:l(()=>[t(p,null,{default:l(()=>[E]),_:1}),t(u,null,{default:l(()=>[t(V,null,{default:l(()=>[t(m,{cols:"12",style:{"margin-top":"20px"}},{default:l(()=>[t(d,{onClick:e[0]||(e[0]=o=>a.addPopup()),size:"small",class:"mr-2"},{default:l(()=>[t(g,{icon:"tabler-plus"}),f(" \u0E40\u0E1E\u0E34\u0E48\u0E21\u0E1B\u0E49\u0E2D\u0E1A\u0E2D\u0E31\u0E1E ")]),_:1})]),_:1})]),_:1}),t(V,null,{default:l(()=>[t(m,{cols:"12",style:{"margin-top":"20px"}},{default:l(()=>[t(U,{class:"text-no-wrap invoice-list-table"},{default:l(()=>[F,n("tbody",null,[(_(!0),v(w,null,O(a.popupData,o=>(_(),v("tr",null,[n("td",null,b(o.header),1),n("td",null,b(o.detail),1),n("td",null,b(a.moment(o.created_date).format("DD-MM-YYYY h:mm:ss a")),1),n("td",null,[t(d,{onClick:s=>a.editPopup(o),size:"small",class:"mr-2"},{default:l(()=>[t(g,{icon:"tabler-settings"}),f(" \u0E41\u0E01\u0E49\u0E44\u0E02 ")]),_:2},1032,["onClick"]),t(d,{onClick:s=>a.deleteNewsList(o),color:"error",size:"small"},{default:l(()=>[t(g,{icon:"tabler-x"})]),_:2},1032,["onClick"])])]))),256))])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),n("div",null,[t(Y,{modelValue:a.isDialogVisible,"onUpdate:modelValue":e[6]||(e[6]=o=>a.isDialogVisible=o),"max-width":"800"},{default:l(()=>[t(y,{onClick:e[1]||(e[1]=o=>a.isDialogVisible=!a.isDialogVisible)}),t(D,{title:"Agent Support Profile"},{default:l(()=>[t(B,null,{default:l(()=>[t(V,null,{default:l(()=>[t(m,{cols:"12",sm:"12",md:"12"},{default:l(()=>[t(S,{modelValue:a.input.header,"onUpdate:modelValue":e[2]||(e[2]=o=>a.input.header=o),label:"\u0E2B\u0E31\u0E27\u0E02\u0E49\u0E2D\u0E1B\u0E47\u0E2D\u0E1B\u0E2D\u0E31\u0E1E",placeholder:"\u0E2B\u0E31\u0E27\u0E02\u0E49\u0E2D\u0E1B\u0E47\u0E2D\u0E1B\u0E2D\u0E31\u0E1E"},null,8,["modelValue"])]),_:1}),t(m,{cols:"12",sm:"12",md:"12"},{default:l(()=>[t(S,{modelValue:a.input.detail,"onUpdate:modelValue":e[3]||(e[3]=o=>a.input.detail=o),label:"\u0E23\u0E32\u0E22\u0E25\u0E30\u0E40\u0E2D\u0E35\u0E22\u0E14",placeholder:"\u0E23\u0E32\u0E22\u0E25\u0E30\u0E40\u0E2D\u0E35\u0E22\u0E14"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),t(B,{class:"d-flex justify-end flex-wrap gap-3"},{default:l(()=>[t(d,{variant:"tonal",color:"secondary",onClick:e[4]||(e[4]=o=>a.isDialogVisible=!1)},{default:l(()=>[f(" Close ")]),_:1}),t(d,{onClick:e[5]||(e[5]=o=>a.onSubmit())},{default:l(()=>[f(" Save ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])])],64)}const q=P(A,[["render",M]]);export{q as default};
