import{y as T,S as z,U as b,o as r,c as d,p as t,w as e,P as i,O as w,z as l,N as B,F as c,a as h,E as _,v as m,m as f,s as I,M as N}from"./index.08e9078e.js";import{u as O}from"./index.4f55e7ff.js";import{V as C,a as R}from"./VTabs.e0e0f4e0.js";import{V as p}from"./VDivider.6a220979.js";import{V as U,a as V}from"./VWindowItem.1f013228.js";import{V as j,a as g,b as v,c as k}from"./VList.2ba00a19.js";import{V as y}from"./VBadge.c835c37b.js";import{V as D}from"./VForm.e626d730.js";import"./lazy.06c7709b.js";const S=z.create({baseURL:"https://api.niyomlotto.com/"}),A={components:{useLoading:O},data(){return{fullPage:!0,formContainer:null,tab:"lotto",lotto_groups:[],rounds:[],disabled:!1,cancleConfirm:{lotto:"",round:"",round_id:"",detail:[]}}},mounted(){this.getData()},methods:{async getData(){let o=await S.get("/admin/lotto-groups",{headers:{Authorization:`bearer ${JSON.parse(localStorage.getItem("token"))}`,"Content-type":"application/json"}}).then(s=>s.data).catch(s=>s.response.data);this.lotto_groups=o.data},async chooseLotto(o){this.tab="period",this.cancleConfirm.lotto=o.title;let s=await S.get("/admin/lotto-groups-detail/"+o.id+"?slug="+o.slug,{headers:{Authorization:`bearer ${JSON.parse(localStorage.getItem("token"))}`,"Content-type":"application/json"}}).then(u=>u.data).catch(u=>u.response.data);this.rounds=s.data},async chooseRound(o){this.cancleConfirm.round=o.title,this.cancleConfirm.detail=o.detail,this.cancleConfirm.round_id=o.id,this.tab="confirm"},async saveData(){b.fire({title:"\u0E22\u0E37\u0E19\u0E22\u0E31\u0E19\u0E01\u0E32\u0E23\u0E25\u0E1A?",showCancelButton:!0,confirmButtonText:"\u0E25\u0E1A"}).then(async o=>{o.isConfirmed&&(this.disabled=!0,(await S.delete("/admin/delete_round_lotto/"+this.cancleConfirm.round_id,{headers:{Authorization:`bearer ${JSON.parse(localStorage.getItem("token"))}`,"Content-Type":"application/json"}}).then(u=>u.data).catch(u=>u.response.data)).status=="success"?(this.disabled=!1,this.tab="lotto",b.fire({title:"Success!",text:"\u0E17\u0E33\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23 \u0E2A\u0E33\u0E40\u0E23\u0E47\u0E08",icon:"success",confirmButtonText:"Ok"}),this.getData()):(this.disabled=!1,b.fire({title:"Error!",text:"\u0E17\u0E33\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23\u0E44\u0E21\u0E48\u0E2A\u0E33\u0E40\u0E23\u0E47\u0E08",icon:"error",confirmButtonText:"Ok"})))})}}},E=f("h1",null,"\u0E22\u0E01\u0E40\u0E25\u0E34\u0E01\u0E01\u0E32\u0E23\u0E41\u0E17\u0E07",-1),F=f("span",{class:"ms-4"},"\u0E40\u0E1B\u0E34\u0E14\u0E23\u0E31\u0E1A\u0E41\u0E17\u0E07",-1),J=f("span",{class:"ms-4"},"\u0E40\u0E1B\u0E34\u0E14\u0E23\u0E31\u0E1A\u0E41\u0E17\u0E07",-1),P=f("span",{class:"text-xs text-disabled"},"\u0E22\u0E2D\u0E14\u0E41\u0E17\u0E07\u0E2A\u0E30\u0E2A\u0E21 1,839,029 \u0E1A\u0E32\u0E17",-1);function W(o,s,u,M,n,x){return r(),d("div",null,[t(w,{class:"mb-2"},{default:e(()=>[t(i,null,{default:e(()=>[E]),_:1})]),_:1}),t(R,{modelValue:n.tab,"onUpdate:modelValue":s[0]||(s[0]=a=>n.tab=a)},{default:e(()=>[t(C,{value:"lotto"},{default:e(()=>[l(" 1. \u0E40\u0E25\u0E37\u0E2D\u0E01\u0E1B\u0E23\u0E30\u0E40\u0E20\u0E17\u0E2B\u0E27\u0E22 ")]),_:1}),t(C,{value:"period"},{default:e(()=>[l(" 2. \u0E40\u0E25\u0E37\u0E2D\u0E01\u0E07\u0E27\u0E14 ")]),_:1}),t(C,{value:"confirm"},{default:e(()=>[l(" 3. \u0E22\u0E37\u0E19\u0E22\u0E31\u0E19 ")]),_:1})]),_:1},8,["modelValue"]),t(p),t(N,{flat:""},{default:e(()=>[t(B,null,{default:e(()=>[t(U,{modelValue:n.tab,"onUpdate:modelValue":s[3]||(s[3]=a=>n.tab=a)},{default:e(()=>[t(V,{value:"lotto"},{default:e(()=>[t(j,null,{default:e(()=>[(r(!0),d(c,null,h(n.lotto_groups,a=>(r(),d(c,null,[t(g,{class:"mt-2"},{append:e(()=>[t(_,{onClick:L=>x.chooseLotto(a),size:"small"},{default:e(()=>[l(" \u0E40\u0E25\u0E37\u0E2D\u0E01 ")]),_:2},1032,["onClick"])]),default:e(()=>[t(v,{class:"text-h5"},{default:e(()=>[l(m(a.title),1)]),_:2},1024),t(k,{class:"mt-1"},{default:e(()=>[t(y,{dot:"",location:"start center","offset-x":"2",color:a.status==="use"?"success":"error",class:"me-3"},{default:e(()=>[f("span",{class:I(["ms-4",a.status==="use"?"text-success":"text-error"])},m(a.status==="use"?"\u0E40\u0E1B\u0E34\u0E14\u0E23\u0E31\u0E1A\u0E41\u0E17\u0E07":"\u0E1B\u0E34\u0E14\u0E23\u0E31\u0E1A\u0E41\u0E17\u0E07"),3)]),_:2},1032,["color"])]),_:2},1024)]),_:2},1024),t(p)],64))),256))]),_:1})]),_:1}),t(V,{value:"period"},{default:e(()=>[(r(!0),d(c,null,h(n.rounds,a=>(r(),d(c,null,[t(g,{class:"mt-2"},{append:e(()=>[t(_,{onClick:L=>x.chooseRound(a),size:"small"},{default:e(()=>[l(" \u0E40\u0E25\u0E37\u0E2D\u0E01 ")]),_:2},1032,["onClick"])]),default:e(()=>[t(v,{class:"text-h6"},{default:e(()=>[l(m(a.title),1)]),_:2},1024),t(k,{class:"mt-1"},{default:e(()=>[t(y,{dot:"",location:"start center","offset-x":"2",color:"success",class:"me-3"},{default:e(()=>[F]),_:1})]),_:1})]),_:2},1024),t(p)],64))),256))]),_:1}),t(V,{value:"type"},{default:e(()=>[t(D,{class:"mt-2"},{default:e(()=>[(r(),d(c,null,h(8,a=>(r(),d(c,null,[t(g,{class:"mt-2"},{append:e(()=>[t(_,{size:"small"},{default:e(()=>[l(" \u0E40\u0E25\u0E37\u0E2D\u0E01 ")]),_:1})]),default:e(()=>[t(v,{class:"text-h6"},{default:e(()=>[l(" \u0E27\u0E34\u0E48\u0E07\u0E1A\u0E19 ")]),_:1}),t(k,{class:"mt-1"},{default:e(()=>[t(y,{dot:"",location:"start center","offset-x":"2",color:"success",class:"me-3"},{default:e(()=>[J]),_:1}),P]),_:1})]),_:1}),t(p)],64))),64))]),_:1})]),_:1}),t(V,{value:"confirm"},{default:e(()=>[t(D,{class:"mt-2"},{default:e(()=>[t(w,null,{default:e(()=>[t(i,{cols:"12",md:"5",class:"text-end"},{default:e(()=>[l("\u0E1B\u0E23\u0E30\u0E40\u0E20\u0E17\u0E2B\u0E27\u0E22\u0E17\u0E35\u0E48\u0E15\u0E49\u0E2D\u0E07\u0E01\u0E32\u0E23\u0E22\u0E01\u0E40\u0E25\u0E34\u0E01")]),_:1}),t(i,{cols:"12",md:"7"},{default:e(()=>[f("strong",null,m(n.cancleConfirm.lotto),1)]),_:1}),t(i,{cols:"12",md:"5",class:"text-end"},{default:e(()=>[l("\u0E23\u0E2D\u0E1A\u0E17\u0E35\u0E48\u0E22\u0E01\u0E40\u0E25\u0E34\u0E01")]),_:1}),t(i,{cols:"12",md:"7"},{default:e(()=>[l(m(n.cancleConfirm.round),1)]),_:1}),t(i,{cols:"12",md:"5",class:"text-end"},{default:e(()=>[l("\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E01\u0E32\u0E23\u0E41\u0E17\u0E07")]),_:1}),t(i,{cols:"12",md:"7"},{default:e(()=>[f("ul",null,[(r(!0),d(c,null,h(n.cancleConfirm.detail,a=>(r(),d("li",null,m(a.title),1))),256))])]),_:1}),t(i,{cols:"12",md:"5",class:"text-end"}),t(i,{cols:"12",md:"7",class:""},{default:e(()=>[t(_,{disabled:n.disabled,onClick:s[1]||(s[1]=a=>x.saveData())},{default:e(()=>[l("\u0E22\u0E37\u0E19\u0E22\u0E31\u0E19")]),_:1},8,["disabled"]),t(_,{onClick:s[2]||(s[2]=a=>this.tab="lotto"),color:"secondary",variant:"tonal"},{default:e(()=>[l(" \u0E22\u0E01\u0E40\u0E25\u0E34\u0E01")]),_:1})]),_:1})]),_:1}),t(B,{class:"d-flex gap-4 text-center"})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}),t(p)]),_:1})])}const tt=T(A,[["render",W]]);export{tt as default};
