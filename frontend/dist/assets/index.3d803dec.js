import{_ as T}from"./DialogCloseBtn.a9eea126.js";import{getBanksSelect as g,getBanksAccount as N,addBankaccount as j,deleteBookBank as I}from"./AgentFunction.59cfd842.js";import{y as F,k as d,bX as z,r as w,o as B,c as A,p as a,w as t,O as b,P as i,Q as y,E as c,A as E,z as k,m as u,F as M,a as O,v as x,M as S,N as U}from"./index.08e9078e.js";import{V as P}from"./VTable.794b1e77.js";import{V as h}from"./VSelect.8ea6ce08.js";import{V as J}from"./VDialog.74576e46.js";import"./VList.2ba00a19.js";import"./VDivider.6a220979.js";import"./scopeId.7dd2bcb9.js";import"./lazy.06c7709b.js";import"./VMenu.80d823a6.js";import"./VCheckboxBtn.79b29e49.js";import"./VSelectionControl.e15bfe62.js";import"./VChip.d13526f8.js";const L={components:{},setup(){const m=d("https://api.niyomlotto.com/"),l=d(!1),r=d([]),o=d({title:"\u0E1A\u0E31\u0E0D\u0E0A\u0E35\u0E1D\u0E32\u0E01",value:"\u0E1A\u0E31\u0E0D\u0E0A\u0E35\u0E1D\u0E32\u0E01"}),v=d([]),_=d({});d("");const n=d({bank_id:"",bank_account:"",bank_no:"",role:"",id:"",role_id:"",create_at:"",status:"",status_bank:""}),f=[{title:"\u0E1A\u0E31\u0E0D\u0E0A\u0E35\u0E1D\u0E32\u0E01",value:"\u0E1A\u0E31\u0E0D\u0E0A\u0E35\u0E1D\u0E32\u0E01"},{title:"\u0E1A\u0E31\u0E0D\u0E0A\u0E35\u0E16\u0E2D\u0E19",value:"\u0E1A\u0E31\u0E0D\u0E0A\u0E35\u0E16\u0E2D\u0E19"}];var V={method:"get",url:`${m.value}agents/get_bankaccount`,headers:{Authorization:`bearer ${JSON.parse(localStorage.getItem("token"))}`,"Content-Type":"application/json"}};z(V).then(function(s){v.value=s.data.result}).catch(function(s){console.log(s)});const e=async()=>{let s=await N();v.value=s.result};return{blankUserData:n,data_banks:r,isDialogVisible:l,bank_status:o,BankAccount:v,bankStatusItem:f,selectBankAccount:_,addAdmin:async()=>{let s=await g();r.value=s.result,l.value=!0,n.value.bank_id="",n.value.bank_account="",n.value.bank_no="",n.value.role="",n.value.id="",n.value.role_id="",n.value.create_at="",n.value.status="",n.value.status_bank="",_.value=r.value[0]},editBankAccount:async s=>{let D=await g();r.value=D.result;for(let p of r.value)console.log(p),console.log(s.bank_id),p.id==s.bank_id&&(_.value=p);l.value=!0,n.value.bank_id=s.bank_id,n.value.bank_account=s.bank_account,n.value.bank_no=s.bank_no,n.value.role=s.role,n.value.id=s.id,n.value.role_id=s.role_id,n.value.create_at=s.create_at,n.value.status=s.status,n.value.status_bank=s.status_bank},getBanksSelect:g,saveBankAccount:async()=>{n.value.bank_id=_.value.id,n.value.status_bank=o.value.value,(await j(n.value)).message=="success"&&(l.value=!1,e())},loadBankData:e,deleteBankAccount:async s=>{(await I(s.id)).status=="success"&&e()}}}},Q=u("h3",null,"\u0E1A\u0E31\u0E0D\u0E0A\u0E35\u0E1D\u0E32\u0E01\u0E16\u0E2D\u0E19",-1),R=u("thead",null,[u("tr",null,[u("th",null," \u0E0A\u0E37\u0E48\u0E2D\u0E1A\u0E31\u0E0D\u0E0A\u0E35"),u("th",null,"\u0E40\u0E25\u0E02\u0E1A\u0E31\u0E0D\u0E0A\u0E35"),u("th",null,"\u0E18\u0E19\u0E32\u0E04\u0E32\u0E23"),u("th",null,"\u0E2A\u0E16\u0E32\u0E19\u0E30"),u("th",null,"\u0E01\u0E23\u0E30\u0E17\u0E33")])],-1),X=u("td",null," \u0E1B\u0E01\u0E15\u0E34 ",-1);function q(m,l,r,o,v,_){const n=w("v-card-header"),f=w("v-card-body"),V=T;return B(),A("div",null,[a(S,{"no-body":"",class:"mv-0 p-10",style:{padding:"20px"}},{default:t(()=>[a(n,null,{default:t(()=>[Q]),_:1}),a(f,null,{default:t(()=>[a(b,{style:{"margin-top":"20px"}},{default:t(()=>[a(i,{cols:"12",lg:"4",md:"4",sm:"6",xs:"12"},{default:t(()=>[a(y,{modelValue:m.SearchText,"onUpdate:modelValue":l[0]||(l[0]=e=>m.SearchText=e),"prepend-inner-icon":"tabler-search",label:"\u0E04\u0E49\u0E19\u0E2B\u0E32",placeholder:"\u0E04\u0E49\u0E19\u0E2B\u0E32"},null,8,["modelValue"])]),_:1}),a(i,{cols:"12",lg:"2",md:"2",sm:"6",xs:"12"},{default:t(()=>[a(c,{color:"primary"},{default:t(()=>[a(E,{icon:"tabler-search",onClick:l[1]||(l[1]=e=>m.Search())}),k(" \u0E04\u0E49\u0E19\u0E2B\u0E32 ")]),_:1})]),_:1})]),_:1}),a(b,null,{default:t(()=>[a(i,{cols:"12"},{default:t(()=>[a(c,{variant:"outlined",color:"warning",onClick:l[2]||(l[2]=e=>o.addAdmin())},{default:t(()=>[k(" \u0E40\u0E1E\u0E34\u0E48\u0E21\u0E1A\u0E31\u0E0D\u0E0A\u0E35\u0E1D\u0E32\u0E01\u0E16\u0E2D\u0E19 ")]),_:1})]),_:1})]),_:1}),a(b,{style:{"margin-top":"20px"}},{default:t(()=>[a(i,{cols:"12"},{default:t(()=>[a(P,{class:"text-no-wrap invoice-list-table"},{default:t(()=>[R,u("tbody",null,[(B(!0),A(M,null,O(o.BankAccount,e=>(B(),A("tr",null,[u("td",null,x(e.bank_account),1),u("td",null,x(e.bank_no),1),u("td",null,x(e.short_name),1),X,u("td",null,[a(c,{variant:"outlined",color:"warning",onClick:C=>o.editBankAccount(e)},{default:t(()=>[k(" \u0E41\u0E01\u0E49\u0E44\u0E02 ")]),_:2},1032,["onClick"]),a(c,{variant:"outlined",color:"danger",onClick:C=>o.deleteBankAccount(e)},{default:t(()=>[k(" \u0E25\u0E1A ")]),_:2},1032,["onClick"])])]))),256))])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),a(J,{modelValue:o.isDialogVisible,"onUpdate:modelValue":l[10]||(l[10]=e=>o.isDialogVisible=e),"max-width":"500"},{default:t(()=>[a(V,{onClick:l[3]||(l[3]=e=>o.isDialogVisible=!o.isDialogVisible)}),a(S,{title:"Member Profile"},{default:t(()=>[a(U,null,{default:t(()=>[a(b,null,{default:t(()=>[a(i,{cols:"12",sm:"12",md:"12"},{default:t(()=>[a(y,{modelValue:o.blankUserData.bank_account,"onUpdate:modelValue":l[4]||(l[4]=e=>o.blankUserData.bank_account=e),label:"\u0E0A\u0E37\u0E48\u0E2D\u0E1A\u0E31\u0E0D\u0E0A\u0E35",placeholder:"\u0E0A\u0E37\u0E48\u0E2D\u0E1A\u0E31\u0E0D\u0E0A\u0E35"},null,8,["modelValue"])]),_:1}),a(i,{cols:"12",sm:"12",md:"12"},{default:t(()=>[a(y,{modelValue:o.blankUserData.bank_no,"onUpdate:modelValue":l[5]||(l[5]=e=>o.blankUserData.bank_no=e),label:"\u0E40\u0E25\u0E02\u0E1A\u0E31\u0E0D\u0E0A\u0E35",placeholder:"\u0E40\u0E25\u0E02\u0E1A\u0E31\u0E0D\u0E0A\u0E35"},null,8,["modelValue"])]),_:1}),a(i,{cols:"12",sm:"12",md:"12"},{default:t(()=>[a(h,{modelValue:o.selectBankAccount,"onUpdate:modelValue":l[6]||(l[6]=e=>o.selectBankAccount=e),items:o.data_banks,"item-title":"official_name","item-value":"id","persistent-hint":"","return-object":"","single-line":""},null,8,["modelValue","items"])]),_:1}),a(i,{cols:"12",sm:"12",md:"12"},{default:t(()=>[a(h,{modelValue:o.bank_status,"onUpdate:modelValue":l[7]||(l[7]=e=>o.bank_status=e),items:o.bankStatusItem,"item-title":"title","item-value":"value","persistent-hint":"","return-object":"","single-line":""},null,8,["modelValue","items"])]),_:1})]),_:1})]),_:1}),a(U,{class:"d-flex justify-end flex-wrap gap-3"},{default:t(()=>[a(c,{variant:"tonal",color:"secondary",onClick:l[8]||(l[8]=e=>o.isDialogVisible=!1)},{default:t(()=>[k(" Close ")]),_:1}),a(c,{onClick:l[9]||(l[9]=e=>o.saveBankAccount())},{default:t(()=>[k(" Save ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])])}const ra=F(L,[["render",q]]);export{ra as default};
