import{_ as X}from"./DialogCloseBtn.a9eea126.js";import{y as Y,S as H,U as _,o as k,c as x,p as t,w as o,P as m,O as y,Q as h,E as f,A as w,z as p,N as T,m as n,F as J,a as Q,v as V,M as L,ac as q,bv as Z}from"./index.08e9078e.js";import{f as $}from"./helpers.segment.1007a634.js";import{V as ee}from"./VTable.794b1e77.js";import{V as te}from"./VChip.d13526f8.js";import{V as se}from"./VPagination.f453cc9a.js";import{V as F}from"./VDialog.74576e46.js";import"./scopeId.7dd2bcb9.js";import"./lazy.06c7709b.js";/*!
  * shared v9.2.2
  * (c) 2022 kazuya kawaguchi
  * Released under the MIT License.
  */const ae=a=>typeof a=="number"&&isFinite(a),le=a=>E(a)&&Object.keys(a).length===0,oe=Object.assign;let B;const ne=()=>B||(B=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),je=Array.isArray,b=a=>typeof a=="string",j=a=>typeof a=="boolean",re=Object.prototype.toString,ie=a=>re.call(a),E=a=>ie(a)==="[object Object]";/*!
  * message-compiler v9.2.2
  * (c) 2022 kazuya kawaguchi
  * Released under the MIT License.
  */const ue={EXPECTED_TOKEN:1,INVALID_TOKEN_IN_PLACEHOLDER:2,UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER:3,UNKNOWN_ESCAPE_SEQUENCE:4,INVALID_UNICODE_ESCAPE_SEQUENCE:5,UNBALANCED_CLOSING_BRACE:6,UNTERMINATED_CLOSING_BRACE:7,EMPTY_PLACEHOLDER:8,NOT_ALLOW_NEST_PLACEHOLDER:9,INVALID_LINKED_FORMAT:10,MUST_HAVE_MESSAGES_IN_PLURAL:11,UNEXPECTED_EMPTY_LINKED_MODIFIER:12,UNEXPECTED_EMPTY_LINKED_KEY:13,UNEXPECTED_LEXICAL_ANALYSIS:14,__EXTEND_POINT__:15};function de(a,e,r={}){const{domain:d,messages:l,args:i}=r,c=a,s=new SyntaxError(String(c));return s.code=a,e&&(s.location=e),s.domain=d,s}/*!
  * devtools-if v9.2.2
  * (c) 2022 kazuya kawaguchi
  * Released under the MIT License.
  */const ce={I18nInit:"i18n:init",FunctionTranslate:"function:translate"};/*!
  * core-base v9.2.2
  * (c) 2022 kazuya kawaguchi
  * Released under the MIT License.
  */let me=null;ce.FunctionTranslate;function fe(a){return e=>me}const pe=-1;function _e(a,e,r,d,l){const{missing:i,onWarn:c}=a;if(i!==null){const s=i(a,r,e,l);return b(s)?s:e}else return e}let W=ue.__EXTEND_POINT__;const P=()=>++W,ge={INVALID_ARGUMENT:W,INVALID_DATE_ARGUMENT:P(),INVALID_ISO_DATE_ARGUMENT:P(),__EXTEND_POINT__:P()};function he(a){return de(a,null,void 0)}function De(a,...e){const{numberFormats:r,unresolving:d,fallbackLocale:l,onWarn:i,localeFallbacker:c}=a,{__numberFormatters:s}=a,[u,O,g,A]=Ee(...e),z=j(g.missingWarn)?g.missingWarn:a.missingWarn;j(g.fallbackWarn)?g.fallbackWarn:a.fallbackWarn;const G=!!g.part,U=b(g.locale)?g.locale:a.locale,v=c(a,l,U);if(!b(u)||u==="")return new Intl.NumberFormat(U,A).format(O);let R={},D,I=null;const K="number format";for(let M=0;M<v.length&&(D=v[M],R=r[D]||{},I=R[u],!E(I));M++)_e(a,u,D,z,K);if(!E(I)||!b(D))return d?pe:u;let S=`${D}__${u}`;le(A)||(S=`${S}__${JSON.stringify(A)}`);let N=s.get(S);return N||(N=new Intl.NumberFormat(D,oe({},I,A)),s.set(S,N)),G?N.formatToParts(O):N.format(O)}const be=["localeMatcher","style","currency","currencyDisplay","currencySign","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","notation","signDisplay","unit","unitDisplay","roundingMode","roundingPriority","roundingIncrement","trailingZeroDisplay"];function Ee(...a){const[e,r,d,l]=a,i={};let c={};if(!ae(e))throw he(ge.INVALID_ARGUMENT);const s=e;return b(r)?i.key=r:E(r)&&Object.keys(r).forEach(u=>{be.includes(u)?c[u]=r[u]:i[u]=r[u]}),b(d)?i.locale=d:E(d)&&(c=d),E(l)&&(c=l),[i.key||"",s,i,c]}typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(ne().__INTLIFY_PROD_DEVTOOLS__=!1);const C=H.create({baseURL:"https://api.niyomlotto.com/"}),Ne={computed:{numeric(){return numeric}},components:{},data(){return{isPasswordVisible:!1,showModalDeposit:!1,currentPage:1,length:[],agents:[],masters:[],showModal:!1,depostData:{credit:0,username:"",id:""},userData:{name:"",username:"",password:"",brands_id:"",id:"",master_id:"",email:"",mobile:"",changpassword:!1}}},mounted(){this.getAgent(),this.getMaster()},methods:{formatNumber:$,number:De,async openModalDeposit(a){this.showModalDeposit=!0,this.depostData.credit=0,this.depostData.username=a.username,this.depostData.id=a.id},async openModal(){this.showModal=!0,this.userData={name:"",username:"",password:"",brands_id:"",id:"",master_id:"",email:"",mobile:"",changpassword:!1}},async getMaster(){let a=await C.get("/admin/get_master",{headers:{Authorization:`bearer ${JSON.parse(localStorage.getItem("token"))}`,"Content-type":"application/json"}}).then(r=>r.data).catch(r=>r.response.data),e=[];for(let r of a.data)e.push({text:r.name,value:r.id});this.masters=e},async getAgent(){let a=await C.get("/master/get_agen?page="+this.currentPage,{headers:{Authorization:`bearer ${JSON.parse(localStorage.getItem("token"))}`,"Content-type":"application/json"}}).then(e=>e.data).catch(e=>e.response.data);this.length=a.result.lastPage,this.agents=a.result.data},async saveData(){(await C.post("/master/add_agents",this.userData,{headers:{Authorization:`bearer ${JSON.parse(localStorage.getItem("token"))}`,"Content-Type":"application/json"}}).then(e=>e.data).catch(e=>e.response.data)).status=="success"?(this.showModal=!1,_.fire({title:"Success!",text:"\u0E17\u0E33\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23 \u0E2A\u0E33\u0E40\u0E23\u0E47\u0E08",icon:"success",confirmButtonText:"Ok"}),this.getAgent()):(this.showModal=!1,_.fire({title:"Error!",text:"\u0E17\u0E33\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23\u0E44\u0E21\u0E48\u0E2A\u0E33\u0E40\u0E23\u0E47\u0E08",icon:"error",confirmButtonText:"Ok"}))},async saveCredit(){this.depostData.credit=Number(this.depostData.credit),(await C.post("/master/add_credit_agents",this.depostData,{headers:{Authorization:`bearer ${JSON.parse(localStorage.getItem("token"))}`,"Content-Type":"application/json"}}).then(e=>e.data).catch(e=>e.response.data)).status=="success"?(_.fire({title:"Success!",text:"\u0E17\u0E33\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23 \u0E2A\u0E33\u0E40\u0E23\u0E47\u0E08",icon:"success",confirmButtonText:"Ok"}),this.getAgent(),this.showModalDeposit=!1):(this.showModalDeposit=!1,_.fire({title:"Error!",text:"\u0E17\u0E33\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23\u0E44\u0E21\u0E48\u0E2A\u0E33\u0E40\u0E23\u0E47\u0E08",icon:"error",confirmButtonText:"Ok"}))},async editData(a){this.userData=a,this.userData.changpassword=!1,this.showModal=!0},async deleteAgents(a){_.fire({title:"\u0E22\u0E37\u0E19\u0E22\u0E31\u0E19\u0E01\u0E32\u0E23\u0E25\u0E1A?",showCancelButton:!0,confirmButtonText:"\u0E25\u0E1A"}).then(async e=>{e.isConfirmed&&((await C.delete("/admin/del_agent/"+a,{headers:{Authorization:`bearer ${JSON.parse(localStorage.getItem("token"))}`,"Content-Type":"application/json"}}).then(d=>d.data).catch(d=>d.response.data)).status=="success"?(_.fire({title:"Success!",text:"\u0E17\u0E33\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23 \u0E2A\u0E33\u0E40\u0E23\u0E47\u0E08",icon:"success",confirmButtonText:"Ok"}),this.getAgent(),this.showModal=!1):(this.showModal=!1,_.fire({title:"Error!",text:"\u0E17\u0E33\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23\u0E44\u0E21\u0E48\u0E2A\u0E33\u0E40\u0E23\u0E47\u0E08",icon:"error",confirmButtonText:"Ok"})))})},async create_urlAgents(a){await navigator.clipboard.writeText(`https://niyomlotto.com/signup/${a.username}`),_.fire("\u0E17\u0E33\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23\u0E2A\u0E33\u0E40\u0E23\u0E47\u0E08!","\u0E1A\u0E31\u0E19\u0E17\u0E36\u0E01\u0E25\u0E34\u0E07\u0E04\u0E4C\u0E2A\u0E21\u0E31\u0E04\u0E23\u0E40\u0E40\u0E25\u0E49\u0E27","success")}}},ye=n("h1",null,"\u0E23\u0E32\u0E22\u0E0A\u0E37\u0E48\u0E2D\u0E40\u0E2D\u0E40\u0E22\u0E19\u0E15\u0E4C",-1),we=n("thead",{class:"bg-primary"},[n("tr",null,[n("th",null,"\u0E2A\u0E16\u0E32\u0E19\u0E30"),n("th",null,"\u0E22\u0E39\u0E2A\u0E40\u0E0B\u0E2D\u0E23\u0E4C\u0E40\u0E19\u0E21"),n("th",{class:"text-end"},"\u0E40\u0E04\u0E23\u0E14\u0E34\u0E15"),n("th",{class:"text-end"},"\u0E40\u0E04\u0E23\u0E14\u0E34\u0E15\u0E2A\u0E21\u0E32\u0E0A\u0E34\u0E01"),n("th",{class:"text-center"},"\u0E08\u0E33\u0E19\u0E27\u0E19\u0E2A\u0E21\u0E32\u0E0A\u0E34\u0E01"),n("th",null,"\u0E40\u0E1A\u0E2D\u0E23\u0E4C\u0E42\u0E17\u0E23\u0E28\u0E31\u0E1E\u0E17\u0E4C"),n("th",null,"\u0E41\u0E1A\u0E48\u0E07\u0E23\u0E31\u0E1A"),n("th",null,"\u0E04\u0E2D\u0E21\u0E21\u0E34\u0E0A\u0E0A\u0E31\u0E48\u0E19"),n("th",null,"\u0E04\u0E48\u0E32\u0E19\u0E32\u0E22\u0E2B\u0E19\u0E49\u0E32"),n("th",null,"\u0E01\u0E23\u0E30\u0E17\u0E33")])],-1),Te={class:"text-end"},Ve={class:"text-end"},Ce={class:"text-center"},Ae=n("td",{class:"text-center"},"-",-1),Ie=n("td",{class:"text-center"},"-",-1),Se=n("td",{class:"text-center"},"-",-1),Oe=["disabled"];function Me(a,e,r,d,l,i){const c=X;return k(),x("div",null,[t(y,{class:"mb-3"},{default:o(()=>[t(m,null,{default:o(()=>[ye]),_:1})]),_:1}),t(y,{justify:"space-between",class:"mb-3"},{default:o(()=>[t(m,{md:"7"},{default:o(()=>[t(y,null,{default:o(()=>[t(m,{md:"6"},{default:o(()=>[t(h,{label:"\u0E04\u0E49\u0E19\u0E2B\u0E32","prepend-inner-icon":"tabler-search"})]),_:1})]),_:1})]),_:1}),t(m,{md:"auto"},{default:o(()=>[t(f,{onClick:e[0]||(e[0]=s=>i.openModal()),color:"primary"},{default:o(()=>[t(w,{start:"",icon:"tabler-plus"}),p(" \u0E40\u0E1E\u0E34\u0E48\u0E21\u0E40\u0E2D\u0E40\u0E22\u0E19\u0E15\u0E4C ")]),_:1})]),_:1})]),_:1}),t(L,null,{default:o(()=>[t(T,null,{default:o(()=>[t(ee,{density:"compact"},{default:o(()=>[we,n("tbody",null,[(k(!0),x(J,null,Q(l.agents,s=>(k(),x("tr",null,[n("td",null,[t(te,{color:"success"},{default:o(()=>[p("\u0E1B\u0E01\u0E15\u0E34")]),_:1})]),n("td",null,V(s.username),1),n("td",Te,V(i.formatNumber(Math.round(s.credit_balance))),1),n("td",Ve,V(i.formatNumber(Math.round(s.credit_user))),1),n("td",Ce,V(s.data_user.length),1),n("td",null,V(s.mobile),1),Ae,Ie,Se,n("td",null,[t(f,{onClick:u=>i.openModalDeposit(s),color:"warning",size:"small",class:"mr-2"},{default:o(()=>[t(w,{icon:"tabler-settings"}),p(" \u0E40\u0E15\u0E34\u0E21\u0E40\u0E04\u0E23\u0E14\u0E34\u0E15")]),_:2},1032,["onClick"]),t(f,{onClick:u=>i.editData(s),size:"small",class:"mr-2"},{default:o(()=>[t(w,{icon:"tabler-settings"}),p(" \u0E41\u0E01\u0E49\u0E44\u0E02")]),_:2},1032,["onClick"]),t(f,{onClick:u=>i.create_urlAgents(s),size:"small",class:"mr-2"},{default:o(()=>[t(w,{icon:"tabler-settings"}),p(" \u0E25\u0E34\u0E07\u0E04\u0E4C\u0E2A\u0E21\u0E31\u0E04\u0E23\u0E02\u0E2D\u0E07\u0E40\u0E2D\u0E40\u0E22\u0E48\u0E19\u0E15\u0E4C")]),_:2},1032,["onClick"]),t(f,{onClick:u=>i.deleteAgents(s.id),color:"error",size:"small"},{default:o(()=>[t(w,{icon:"tabler-x"})]),_:2},1032,["onClick"])])]))),256))])]),_:1})]),_:1}),t(se,{class:"text-center",style:{padding:"10px"},modelValue:l.currentPage,"onUpdate:modelValue":e[1]||(e[1]=s=>l.currentPage=s),length:l.length,onClick:e[2]||(e[2]=s=>i.getAgent()),rounded:"circle"},null,8,["modelValue","length"])]),_:1}),t(F,{modelValue:l.showModal,"onUpdate:modelValue":e[13]||(e[13]=s=>l.showModal=s),"max-width":"800"},{default:o(()=>[t(c,{onClick:e[3]||(e[3]=s=>l.showModal=!1)}),t(L,{title:"\u0E40\u0E1E\u0E34\u0E48\u0E21\u0E40\u0E2D\u0E40\u0E22\u0E48\u0E19"},{default:o(()=>[t(T,null,{default:o(()=>[t(y,null,{default:o(()=>[t(m,{cols:"6",sm:"6",md:"6"},{default:o(()=>[t(h,{modelValue:l.userData.name,"onUpdate:modelValue":e[4]||(e[4]=s=>l.userData.name=s),label:"\u0E0A\u0E37\u0E48\u0E2D\u0E1C\u0E39\u0E49\u0E43\u0E0A\u0E49\u0E07\u0E32\u0E19",placeholder:"\u0E0A\u0E37\u0E48\u0E2D\u0E1C\u0E39\u0E49\u0E43\u0E0A\u0E49\u0E07\u0E32\u0E19"},null,8,["modelValue"])]),_:1}),t(m,{cols:"6",sm:"6",md:"6"},{default:o(()=>[t(h,{modelValue:l.userData.email,"onUpdate:modelValue":e[5]||(e[5]=s=>l.userData.email=s),label:"E-mail",placeholder:"E-mail"},null,8,["modelValue"])]),_:1}),t(m,{cols:"6",sm:"6",md:"6"},{default:o(()=>[t(h,{modelValue:l.userData.mobile,"onUpdate:modelValue":e[6]||(e[6]=s=>l.userData.mobile=s),label:"\u0E40\u0E1A\u0E2D\u0E23\u0E4C\u0E42\u0E17\u0E23",placeholder:"\u0E40\u0E1A\u0E2D\u0E23\u0E4C\u0E42\u0E17\u0E23"},null,8,["modelValue"])]),_:1}),t(m,{cols:"6",sm:"6",md:"6"}),t(m,{cols:"12",sm:"12",md:"12"},{default:o(()=>[t(h,{modelValue:l.userData.username,"onUpdate:modelValue":e[7]||(e[7]=s=>l.userData.username=s),label:"Username",placeholder:"Username"},null,8,["modelValue"])]),_:1}),t(m,{cols:"12",sm:"12",md:"12"},{default:o(()=>[q(n("input",{disabled:l.userData.id=="",type:"checkbox",id:"checkbox","onUpdate:modelValue":e[8]||(e[8]=s=>l.userData.changpassword=s)},null,8,Oe),[[Z,l.userData.changpassword]]),t(h,{disabled:l.userData.id==""?!1:l.userData.changpassword!=!0,type:l.isPasswordVisible?"text":"password",rules:[a.requiredValidator],"append-inner-icon":l.isPasswordVisible?"tabler-eye-off":"tabler-eye","onClick:appendInner":e[9]||(e[9]=s=>l.isPasswordVisible=!l.isPasswordVisible),modelValue:l.userData.password,"onUpdate:modelValue":e[10]||(e[10]=s=>l.userData.password=s),label:"password",placeholder:"password"},null,8,["disabled","type","rules","append-inner-icon","modelValue"])]),_:1})]),_:1})]),_:1}),t(T,{class:"d-flex justify-end flex-wrap gap-3"},{default:o(()=>[t(f,{variant:"tonal",color:"secondary",onClick:e[11]||(e[11]=s=>l.showModal=!1)},{default:o(()=>[p(" Close ")]),_:1}),t(f,{onClick:e[12]||(e[12]=s=>i.saveData())},{default:o(()=>[p(" Save ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(F,{modelValue:l.showModalDeposit,"onUpdate:modelValue":e[18]||(e[18]=s=>l.showModalDeposit=s),"max-width":"800"},{default:o(()=>[t(c,{onClick:e[14]||(e[14]=s=>l.showModalDeposit=!1)}),t(L,{title:"\u0E40\u0E15\u0E34\u0E21\u0E40\u0E04\u0E23\u0E14\u0E34\u0E15\u0E21\u0E32\u0E2A\u0E40\u0E04\u0E2D\u0E23\u0E4C"},{default:o(()=>[t(T,null,{default:o(()=>[t(y,null,{default:o(()=>[t(m,{cols:"12",sm:"12",md:"12"},{default:o(()=>[t(h,{type:"number",modelValue:l.depostData.credit,"onUpdate:modelValue":e[15]||(e[15]=s=>l.depostData.credit=s),label:"\u0E40\u0E04\u0E23\u0E14\u0E34\u0E15",placeholder:"\u0E40\u0E04\u0E23\u0E14\u0E34\u0E15"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),t(T,{class:"d-flex justify-end flex-wrap gap-3"},{default:o(()=>[t(f,{variant:"tonal",color:"secondary",onClick:e[16]||(e[16]=s=>l.showModalDeposit=!1)},{default:o(()=>[p(" Close ")]),_:1}),t(f,{onClick:e[17]||(e[17]=s=>i.saveCredit())},{default:o(()=>[p(" Save ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])])}const We=Y(Ne,[["render",Me]]);export{We as default};
