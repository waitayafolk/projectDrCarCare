import{_ as M}from"./DialogCloseBtn.a9eea126.js";import{f as B}from"./helpers.segment.1007a634.js";import{h as I}from"./moment.9709ab41.js";import{s as O}from"./vue3-datepicker.esm.70ae366a.js";import{y as J,S as c,r as T,o as r,c as _,p as a,w as s,O as y,P as u,m as t,ac as V,bQ as C,E as m,A as v,z as f,F as x,a as g,b as E,v as o,M as b,N as w}from"./index.08e9078e.js";import{a as U,V as z}from"./VTabs.e0e0f4e0.js";import{V as S}from"./VTable.794b1e77.js";import{V as F}from"./VDialog.74576e46.js";import"./scopeId.7dd2bcb9.js";import"./lazy.06c7709b.js";const P={computed:{moment(){return I}},components:{DatePicker:O,service:c},data(){return{total_bet_head:0,total_win_head:0,total_af_head:0,total_commission_head:0,total_bet:0,total_win:0,total_af:0,total_commission:0,lotto:[],lotto_id:0,start_date:new Date,end_date:new Date,bills:[],showModalDetail:!1,datasaledetail:[],datasale:[]}},mounted(){this.getlottogroup()},methods:{formatNumber:B,async getlottogroup(){await c({method:"get",url:"/lotto-groups",data:[],params:[]}).then(i=>{let l=[{id:0,title:"\u0E2B\u0E27\u0E22\u0E17\u0E31\u0E49\u0E07\u0E2B\u0E21\u0E14"}];for(let n of i)l.push({id:n.id,title:n.title});this.lotto_id=l[0].id,this.lotto=l,this.getdata()}).catch(i=>{console.log(i)})},async openModal(i){let l={lotto_id:i,agents_id:JSON.parse(localStorage.getItem("result_data")).role=="subport"?JSON.parse(localStorage.getItem("result_data")).role_id:JSON.parse(localStorage.getItem("result_data")).id,start_date:this.start_date,end_date:this.end_date};await c({method:"post",url:"/reports/agents/getallreport-select",data:l,params:[]}).then(n=>{this.showModalDetail=!0,this.total_bet=0,this.total_win=0,this.total_af=0,this.total_commission=0;for(let h of n)this.total_bet+=h.bet,this.total_win+=h.win,this.total_af+=h.af,this.total_commission+=h.commission;this.datasaledetail=n}).catch(n=>{console.log(n)})},async tabSwitch(i){this.lotto_id=i.id,this.getdata()},async getdata(){let i={lotto_id:this.lotto_id,start_date:this.start_date,end_date:this.end_date,agents_id:JSON.parse(localStorage.getItem("result_data")).role=="subport"?JSON.parse(localStorage.getItem("result_data")).role_id:JSON.parse(localStorage.getItem("result_data")).id};await c({method:"post",url:"/reports/agents/getallreport",data:i,params:[]}).then(l=>{console.log(l),this.total_bet_head=0,this.total_win_head=0,this.total_af_head=0,this.total_commission_head=0;for(let n of l)this.total_bet_head+=n.bet,this.total_win_head+=n.win,this.total_af_head+=n.af,this.total_commission_head+=n.commission;this.datasale=l}).catch(l=>{console.log(l)})}}},j=t("h3",null,"\u0E2A\u0E23\u0E38\u0E1B\u0E22\u0E2D\u0E14\u0E23\u0E32\u0E22\u0E27\u0E31\u0E19",-1),A=t("label",null,"\u0E27\u0E31\u0E19\u0E17\u0E35\u0E48\u0E40\u0E23\u0E34\u0E48\u0E21",-1),L=t("label",null,"\u0E27\u0E31\u0E19\u0E17\u0E35\u0E48\u0E2A\u0E34\u0E49\u0E19\u0E2A\u0E38\u0E14",-1),Q=t("thead",{class:"bg-primary"},[t("tr",null,[t("th",null,"#"),t("th",null,"\u0E1B\u0E23\u0E30\u0E40\u0E20\u0E17\u0E2B\u0E27\u0E22"),t("th",{class:"text-end px-0 pr-15"},"\u0E22\u0E2D\u0E14\u0E40\u0E40\u0E17\u0E07"),t("th",{class:"text-end px-0 pr-15"},"\u0E22\u0E2D\u0E14\u0E16\u0E39\u0E01"),t("th",{class:"text-end px-0 pr-15"},"\u0E04\u0E48\u0E32 af"),t("th",{class:"text-end px-0 pr-15"},"\u0E04\u0E48\u0E32\u0E04\u0E2D\u0E21\u0E21\u0E34\u0E2A\u0E0A\u0E31\u0E48\u0E19"),t("th")])],-1),R={class:"text-end px-0 pr-15"},q={class:"text-end px-0 pr-15"},G={class:"text-end px-0 pr-15"},H={class:"text-end px-0 pr-15"},K=t("th",null,"\u0E23\u0E27\u0E21",-1),W=t("th",null,null,-1),X={class:"text-end px-0 pr-15"},Y={class:"text-end px-0 pr-15"},Z={class:"text-end px-0 pr-15"},$={class:"text-end px-0 pr-15"},tt=t("thead",{class:"bg-primary"},[t("tr",null,[t("th",{rowspan:""},"\u0E1B\u0E23\u0E30\u0E40\u0E20\u0E17\u0E2B\u0E27\u0E22"),t("th",{class:"text-end"},"\u0E22\u0E2D\u0E14\u0E40\u0E40\u0E17\u0E07"),t("th",{class:"text-end"},"\u0E22\u0E2D\u0E14\u0E16\u0E39\u0E01"),t("th",{class:"text-end"},"\u0E04\u0E48\u0E32 af"),t("th",{class:"text-end"},"\u0E04\u0E48\u0E32\u0E04\u0E2D\u0E21\u0E21\u0E34\u0E2A\u0E0A\u0E31\u0E48\u0E19")])],-1),et={class:"text-end"},lt={class:"text-end"},at={class:"text-end"},st={class:"text-end"},ot=t("th",null,"\u0E23\u0E27\u0E21",-1),dt={class:"text-end"},nt={class:"text-end"},it={class:"text-end"},rt={class:"text-end"};function _t(i,l,n,h,d,p){const D=T("v-card-header"),k=M;return r(),_("div",null,[a(b,{"no-body":"",class:"mv-0 p-10",style:{padding:"20px"}},{default:s(()=>[a(D,null,{default:s(()=>[j]),_:1}),a(y,{style:{"margin-top":"20px"}},{default:s(()=>[a(u,{cols:"12",lg:"6",md:"6",sm:"6",xs:"12"},{default:s(()=>[a(y,null,{default:s(()=>[a(u,{cols:"6",lg:"6",md:"6",sm:"6",xs:"6"},{default:s(()=>[t("div",null,[A,V(t("input",{type:"date","onUpdate:modelValue":l[0]||(l[0]=e=>d.start_date=e),style:{width:"100%",height:"38px",border:"1px solid #C9C9EB","border-radius":"5px"}},null,512),[[C,d.start_date]])])]),_:1}),a(u,{cols:"6",lg:"6",md:"6",sm:"6",xs:"6"},{default:s(()=>[t("div",null,[L,V(t("input",{type:"date","onUpdate:modelValue":l[1]||(l[1]=e=>d.end_date=e),style:{width:"100%",height:"38px",border:"1px solid #C9C9EB","border-radius":"5px"}},null,512),[[C,d.end_date]])])]),_:1})]),_:1})]),_:1}),a(u,{cols:"12",lg:"6",md:"6",sm:"6",xs:"12",style:{"margin-top":"20px"}},{default:s(()=>[a(m,{color:"primary",onClick:l[2]||(l[2]=e=>p.getdata())},{default:s(()=>[a(v,{icon:"tabler-search"}),f(" \u0E04\u0E49\u0E19\u0E2B\u0E32 ")]),_:1})]),_:1})]),_:1}),a(U,null,{default:s(()=>[(r(!0),_(x,null,g(d.lotto,e=>(r(),E(z,{onClick:N=>p.tabSwitch(e)},{default:s(()=>[t("span",null,o(e.title),1)]),_:2},1032,["onClick"]))),256))]),_:1})]),_:1}),a(b,null,{default:s(()=>[a(w,null,{default:s(()=>[a(S,null,{default:s(()=>[Q,t("tbody",null,[(r(!0),_(x,null,g(d.datasale,e=>(r(),_("tr",null,[t("th",null,o(e.id),1),t("th",null,o(e.title),1),t("th",R,o(e.bet),1),t("th",q,o(e.win),1),t("th",G,o(e.af),1),t("th",H,o(e.commission),1),t("th",null,[a(m,{onClick:N=>p.openModal(e.id),color:"primary",size:"small",class:"mr-2"},{default:s(()=>[a(v,{icon:"tabler-list"}),f(" \u0E23\u0E32\u0E22\u0E25\u0E30\u0E40\u0E2D\u0E35\u0E22\u0E14 ")]),_:2},1032,["onClick"])])]))),256))]),t("tfoot",null,[t("tr",null,[K,W,t("th",X,o(d.total_bet_head),1),t("th",Y,o(d.total_win_head),1),t("th",Z,o(d.total_af_head),1),t("th",$,o(d.total_commission_head),1)])])]),_:1})]),_:1})]),_:1}),a(F,{modelValue:d.showModalDetail,"onUpdate:modelValue":l[5]||(l[5]=e=>d.showModalDetail=e),"max-width":"800"},{default:s(()=>[a(k,{onClick:l[3]||(l[3]=e=>d.showModalDetail=!1)}),a(b,{title:"\u0E23\u0E32\u0E22\u0E25\u0E30\u0E40\u0E2D\u0E35\u0E22\u0E14"},{default:s(()=>[a(w,null,{default:s(()=>[a(S,null,{default:s(()=>[tt,t("tbody",null,[(r(!0),_(x,null,g(d.datasaledetail,e=>(r(),_("tr",null,[t("th",null,o(e.title),1),t("th",et,o(e.bet),1),t("th",lt,o(e.win),1),t("th",at,o(e.af),1),t("th",st,o(e.commission),1)]))),256))]),t("tfoot",null,[t("tr",null,[ot,t("th",dt,o(d.total_bet),1),t("th",nt,o(d.total_win),1),t("th",it,o(d.total_af),1),t("th",rt,o(d.total_commission),1)])])]),_:1})]),_:1}),a(w,{class:"d-flex justify-end flex-wrap gap-3"},{default:s(()=>[a(m,{variant:"tonal",color:"secondary",onClick:l[4]||(l[4]=e=>d.showModalDetail=!1)},{default:s(()=>[f(" Close ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])])}const yt=J(P,[["render",_t]]);export{yt as default};
