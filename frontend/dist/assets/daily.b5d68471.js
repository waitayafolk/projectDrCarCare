import{_ as M}from"./DialogCloseBtn.a9eea126.js";import{y as N,S as T,r as k,o as d,c as i,p as a,w as s,O as m,P as h,m as t,ac as c,bQ as f,E as w,A as B,z as g,M as _,N as p,F as D,a as b,v as o}from"./index.08e9078e.js";import{d as E}from"./derlimiter.4329166e.js";import{t as F}from"./thaiDateNotime.28095d2c.js";import{V as x}from"./VTable.794b1e77.js";import{V as S}from"./VDialog.74576e46.js";import"./scopeId.7dd2bcb9.js";import"./lazy.06c7709b.js";const y=T.create({baseURL:"https://api.niyomlotto.com/"}),A={components:{},data(){return{thaiDateNotime:F,derlimiter:E,datasale:[],datasaledetail:[],showModalDetail:!1,total_bet:0,total_win:0,total_af:0,total_commission:0,start_date:new Date,end_date:new Date}},mounted(){this.getdata()},methods:{async getdata(){let u=await y.post("/reports/master/getallreport",{start_date:`${new Date(this.start_date).getFullYear()}-${new Date(this.start_date).getMonth()+1}-${new Date(this.start_date).getDate()}`,end_date:`${new Date(this.end_date).getFullYear()}-${new Date(this.end_date).getMonth()+1}-${new Date(this.end_date).getDate()}`},{headers:{Authorization:`bearer ${JSON.parse(localStorage.getItem("token"))}`,"Content-Type":"application/json"}}).then(n=>n.data).catch(n=>n.response.data);this.datasale=u.data},async openModal(u){this.showModalDetail=!0;const n=await y.post("/reports/getallreport-select",{lotto_id:u.id,start_date:`${new Date(this.start_date).getFullYear()}-${new Date(this.start_date).getMonth()+1}-${new Date(this.start_date).getDate()}`,end_date:`${new Date(this.end_date).getFullYear()}-${new Date(this.end_date).getMonth()+1}-${new Date(this.end_date).getDate()}`},{headers:{Authorization:`bearer ${JSON.parse(localStorage.getItem("token"))}`,"Content-Type":"application/json"}}).then(r=>r.data).catch(r=>r.response.data);for(let r of n.data)this.total_bet+=r.bet,this.total_win+=r.win,this.total_af+=r.af,this.total_commission+=r.commission;this.datasaledetail=n.data}}},I=t("h3",null,"\u0E2A\u0E23\u0E38\u0E1B\u0E22\u0E2D\u0E14\u0E23\u0E32\u0E22\u0E27\u0E31\u0E19",-1),U=t("label",null,"\u0E27\u0E31\u0E19\u0E17\u0E35\u0E48\u0E40\u0E23\u0E34\u0E48\u0E21",-1),Y=t("label",null,"\u0E27\u0E31\u0E19\u0E17\u0E35\u0E48\u0E2A\u0E34\u0E49\u0E19\u0E2A\u0E38\u0E14",-1),j=t("thead",null,[t("tr",null,[t("th",null,"DATE"),t("th",null,"\u0E40\u0E14\u0E34\u0E21\u0E1E\u0E31\u0E19"),t("th",null,"\u0E0A\u0E19\u0E30"),t("th",null,"\u0E0A\u0E19\u0E30\u0E41\u0E1E\u0E49"),t("th",null,"\u0E04\u0E48\u0E32\u0E04\u0E2D\u0E21\u0E21\u0E34\u0E2A\u0E0A\u0E31\u0E48\u0E19"),t("th",null,"\u0E04\u0E48\u0E32 \u0E40\u0E2D\u0E40\u0E2D\u0E1F"),t("th",null,"\u0E22\u0E2D\u0E14\u0E04\u0E37\u0E19"),t("th",null,"\u0E2A\u0E38\u0E17\u0E18\u0E34")])],-1),z=t("thead",null,[t("tr",null,[t("th",null,"\u0E1B\u0E23\u0E30\u0E40\u0E20\u0E17\u0E2B\u0E27\u0E22"),t("th",null,"\u0E22\u0E2D\u0E14\u0E40\u0E40\u0E17\u0E07"),t("th",null,"\u0E22\u0E2D\u0E14\u0E16\u0E39\u0E01"),t("th",null,"\u0E04\u0E48\u0E32 af"),t("th",null,"\u0E04\u0E48\u0E32\u0E04\u0E2D\u0E21\u0E21\u0E34\u0E2A\u0E0A\u0E31\u0E48\u0E19")])],-1),O=t("th",null,"\u0E23\u0E27\u0E21",-1);function J(u,n,r,L,l,V){const C=k("v-card-header"),v=M;return d(),i("div",null,[a(_,{"no-body":"",class:"mv-0 p-10",style:{padding:"20px"}},{default:s(()=>[a(C,null,{default:s(()=>[I]),_:1}),a(m,{style:{"margin-top":"20px"}},{default:s(()=>[a(h,{cols:"12",lg:"6",md:"6",sm:"6",xs:"12"},{default:s(()=>[a(m,null,{default:s(()=>[a(h,{cols:"6",lg:"6",md:"6",sm:"6",xs:"6"},{default:s(()=>[t("div",null,[U,c(t("input",{type:"date","onUpdate:modelValue":n[0]||(n[0]=e=>l.start_date=e),style:{width:"100%",height:"38px",border:"1px solid #C9C9EB","border-radius":"5px"}},null,512),[[f,l.start_date]])])]),_:1}),a(h,{cols:"6",lg:"6",md:"6",sm:"6",xs:"6"},{default:s(()=>[t("div",null,[Y,c(t("input",{type:"date","onUpdate:modelValue":n[1]||(n[1]=e=>l.end_date=e),style:{width:"100%",height:"38px",border:"1px solid #C9C9EB","border-radius":"5px"}},null,512),[[f,l.end_date]])])]),_:1})]),_:1})]),_:1}),a(h,{cols:"12",lg:"6",md:"6",sm:"6",xs:"12",style:{"margin-top":"20px"}},{default:s(()=>[a(w,{color:"primary",onClick:n[2]||(n[2]=e=>V.getdata())},{default:s(()=>[a(B,{icon:"tabler-search"}),g(" \u0E04\u0E49\u0E19\u0E2B\u0E32 ")]),_:1})]),_:1})]),_:1})]),_:1}),a(_,null,{default:s(()=>[a(p,null,{default:s(()=>[a(x,null,{default:s(()=>[j,t("tbody",null,[(d(!0),i(D,null,b(l.datasale,e=>(d(),i("tr",null,[t("th",null,o(l.thaiDateNotime(e.DATE)),1),t("th",null,o(e.open_time),1),t("th",null,o(e.close_time),1),t("th",null,o(l.derlimiter(e.bet)),1),t("th",null,o(l.derlimiter(e.win)),1),t("th",null,o(l.derlimiter(e.bet-e.win)),1),t("th",null,o(l.derlimiter(e.shooter)),1),t("th",null,o(l.derlimiter(e.commission)),1),t("th",null,o(l.derlimiter(e.af)),1),t("th",null,o(l.derlimiter(e.bet-e.win-e.shooter-e.commission-e.af)),1)]))),256))])]),_:1})]),_:1})]),_:1}),a(S,{modelValue:l.showModalDetail,"onUpdate:modelValue":n[5]||(n[5]=e=>l.showModalDetail=e),"max-width":"800"},{default:s(()=>[a(v,{onClick:n[3]||(n[3]=e=>l.showModalDetail=!1)}),a(_,{title:"\u0E40\u0E15\u0E34\u0E21\u0E40\u0E04\u0E23\u0E14\u0E34\u0E15\u0E21\u0E32\u0E2A\u0E40\u0E04\u0E2D\u0E23\u0E4C"},{default:s(()=>[a(p,null,{default:s(()=>[a(x,null,{default:s(()=>[z,t("tbody",null,[(d(!0),i(D,null,b(l.datasaledetail,e=>(d(),i("tr",null,[t("th",null,o(e.title),1),t("th",null,o(e.bet),1),t("th",null,o(e.win),1),t("th",null,o(e.af),1),t("th",null,o(e.commission),1)]))),256))]),t("tfoot",null,[t("tr",null,[O,t("th",null,o(l.total_bet),1),t("th",null,o(l.total_win),1),t("th",null,o(l.total_af),1),t("th",null,o(l.total_commission),1)])])]),_:1})]),_:1}),a(p,{class:"d-flex justify-end flex-wrap gap-3"},{default:s(()=>[a(w,{variant:"tonal",color:"secondary",onClick:n[4]||(n[4]=e=>l.showModalDetail=!1)},{default:s(()=>[g(" Close ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])])}const X=N(A,[["render",J]]);export{X as default};
