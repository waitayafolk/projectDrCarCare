import{_ as v}from"./DialogCloseBtn.a9eea126.js";import"./AppDateTimePicker.0e1428a4.js";import{y as B,S as p,U as h,o as c,c as u,p as t,w as e,P as d,O as _,E as f,z as i,N as w,F as x,a as C,v as n,L as k,b as F,m as s,M as b,Q as D}from"./index.08e9078e.js";import{V as N}from"./VSelect.8ea6ce08.js";import{V as y}from"./VChip.d13526f8.js";import{V as T}from"./VTable.794b1e77.js";import{V as U}from"./VDialog.74576e46.js";import"./VList.2ba00a19.js";import"./VDivider.6a220979.js";import"./scopeId.7dd2bcb9.js";import"./lazy.06c7709b.js";import"./VMenu.80d823a6.js";import"./VCheckboxBtn.79b29e49.js";import"./VSelectionControl.e15bfe62.js";const j={computed:{},components:{service:p,Swal:h},data(){return{data_commistion:[],dialogConfirm:!1,confirm_btn:!1,search_week:"",week:[],confirm_pay:{id:0,agent_id:0,master_id:0,commision_after:0,commision_before:0,commision_pay:0,commssion:0,created_at:0,name:0,remark:"",status:0,updated_at:0,username:0,week:0}}},mounted(){this.getweek()},methods:{async getweek(){await p({method:"post",url:"/master/master-get-weekday",data:[],params:[]}).then(l=>{let a=[];for(let V of l)a.push(V.week);this.search_week=a[0],this.week=a,this.getData()}).catch(l=>{console.log(l)})},async getData(){await p({method:"post",url:"/master/reportcommission",data:{week:this.search_week},params:[]}).then(l=>{this.data_commistion=l}).catch(l=>{console.log(l)})},async openDialogConfirm(l){this.dialogConfirm=!0,this.confirm_pay.id=l.id,this.confirm_pay.commssion=l.commssion,this.confirm_pay.commision_pay=l.commision_pay,this.confirm_pay.agent_id=l.agent_id,this.confirm_pay.master_id=l.master_id,this.confirm_pay.week=l.week,this.confirm_pay.commision_pay=l.commssion,this.confirm_pay.remark=`\u0E08\u0E48\u0E32\u0E22\u0E04\u0E48\u0E32\u0E04\u0E2D\u0E21\u0E21\u0E34\u0E0A\u0E0A\u0E31\u0E48\u0E19 \u0E2A\u0E31\u0E1A\u0E1B\u0E14\u0E32\u0E2B\u0E4C\u0E17\u0E35\u0E48 ${l.week}`},async confirm(){this.confirm_pay.commision_pay=Number(this.confirm_pay.commision_pay),h.fire({title:"\u0E22\u0E37\u0E19\u0E22\u0E31\u0E19\u0E08\u0E48\u0E32\u0E22\u0E04\u0E2D\u0E21\u0E21\u0E34\u0E0A\u0E0A\u0E31\u0E48\u0E19 ?",text:"\u0E22\u0E37\u0E19\u0E22\u0E31\u0E19\u0E08\u0E48\u0E32\u0E22\u0E04\u0E2D\u0E21\u0E21\u0E34\u0E0A\u0E0A\u0E31\u0E48\u0E19!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"\u0E22\u0E37\u0E19\u0E22\u0E31\u0E19!"}).then(async l=>{l.isConfirmed&&(this.confirm_btn=!0,await p({method:"post",url:"/master/confirm-commistionPay",data:this.confirm_pay,params:[]}).then(a=>{a=="success"?(this.confirm_btn=!1,this.dialogConfirm=!1,h.fire("\u0E17\u0E33\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23\u0E2A\u0E33\u0E40\u0E23\u0E47\u0E08!","\u0E1A\u0E31\u0E19\u0E17\u0E36\u0E01\u0E08\u0E48\u0E32\u0E22\u0E04\u0E48\u0E32\u0E04\u0E2D\u0E21\u0E40\u0E40\u0E25\u0E49\u0E27","success"),this.getData()):(this.confirm_btn=!1,this.dialogConfirm=!1,h.fire("\u0E40\u0E01\u0E34\u0E14\u0E02\u0E49\u0E2D\u0E1C\u0E34\u0E14\u0E1E\u0E25\u0E32\u0E14!","\u0E44\u0E21\u0E48\u0E2A\u0E32\u0E21\u0E32\u0E23\u0E16\u0E17\u0E33\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23\u0E44\u0E14\u0E49","error"),this.getData())}).catch(a=>{console.log(a)}))})}}},M=s("h1",null,"\u0E04\u0E2D\u0E21\u0E21\u0E34\u0E0A\u0E0A\u0E31\u0E48\u0E19",-1),z={class:"mb-3 pa-3 rounded border elevation-5"},A={key:0},E={key:1},L=s("thead",{class:"bg-secondary"},[s("tr",{class:"text-center"},[s("th",null,"\u0E27\u0E31\u0E19\u0E17\u0E35\u0E48"),s("th",{class:"text-end"},"\u0E40\u0E04\u0E23\u0E14\u0E34\u0E15\u0E40\u0E14\u0E34\u0E21\u0E1E\u0E31\u0E19\u0E17\u0E31\u0E49\u0E07\u0E2B\u0E21\u0E14"),s("th",{class:"text-end"},"\u0E22\u0E2D\u0E14\u0E41\u0E17\u0E07\u0E16\u0E39\u0E01"),s("th",{class:"text-end"},"\u0E44\u0E14\u0E49/\u0E40\u0E2A\u0E35\u0E22"),s("th",{class:"text-end"},"\u0E21\u0E32\u0E2A\u0E40\u0E15\u0E2D\u0E23\u0E4C\u0E08\u0E48\u0E32\u0E22 AF"),s("th",{class:"text-end"},"\u0E40\u0E2D\u0E40\u0E22\u0E48\u0E19\u0E15\u0E4C \u0E41\u0E1A\u0E48\u0E07\u0E23\u0E31\u0E1A\u0E04\u0E48\u0E32 AF"),s("th",{class:"text-end"},"\u0E21\u0E32\u0E2A\u0E40\u0E15\u0E2D\u0E23\u0E4C\u0E08\u0E48\u0E32\u0E22\u0E42\u0E1A\u0E19\u0E31\u0E2A"),s("th",{class:"text-end"},"\u0E40\u0E2D\u0E40\u0E22\u0E48\u0E19\u0E15\u0E4C\u0E08\u0E48\u0E32\u0E22\u0E42\u0E1A\u0E19\u0E31\u0E2A"),s("th",{class:"text-end"},"\u0E2A\u0E48\u0E27\u0E19\u0E41\u0E1A\u0E48\u0E07\u0E40\u0E2D\u0E40\u0E22\u0E48\u0E19\u0E15\u0E4C"),s("th",{class:"text-end"},"\u0E2A\u0E48\u0E27\u0E19\u0E41\u0E1A\u0E48\u0E07\u0E21\u0E32\u0E2A\u0E40\u0E15\u0E2D\u0E23\u0E4C"),s("th",{class:"text-end"},"\u0E04\u0E48\u0E32\u0E04\u0E2D\u0E21\u0E40\u0E2D\u0E40\u0E22\u0E48\u0E19\u0E15\u0E4C")])],-1),P={class:"text-end"},Y={class:"text-end"},O={class:"text-end"},Q={class:"text-end"},R={class:"text-end"},q={class:"text-end"},G={class:"text-end"},H={class:"text-end"},I={class:"text-end"},J={class:"text-end"};function K(l,a,V,W,r,g){const S=v;return c(),u("div",null,[t(_,{class:"mb-3"},{default:e(()=>[t(d,null,{default:e(()=>[M]),_:1})]),_:1}),t(_,{justify:"space-between",class:"mb-3"},{default:e(()=>[t(d,{md:"5"},{default:e(()=>[t(f,null,{default:e(()=>[i("\u0E08\u0E48\u0E32\u0E22\u0E04\u0E48\u0E32\u0E04\u0E2D\u0E21\u0E17\u0E31\u0E49\u0E07\u0E2B\u0E21\u0E14")]),_:1})]),_:1}),t(d,{md:"7"},{default:e(()=>[t(_,null,{default:e(()=>[t(d,null,{default:e(()=>[t(N,{modelValue:r.search_week,"onUpdate:modelValue":a[0]||(a[0]=o=>r.search_week=o),items:r.week,label:"\u0E2A\u0E31\u0E1B\u0E14\u0E32\u0E2B\u0E4C\u0E17\u0E35\u0E48"},null,8,["modelValue","items"])]),_:1}),t(d,null,{default:e(()=>[t(f,{onClick:a[1]||(a[1]=o=>g.getData())},{default:e(()=>[i(" \u0E04\u0E49\u0E19\u0E2B\u0E32 ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),t(b,null,{default:e(()=>[t(w,null,{default:e(()=>[(c(!0),u(x,null,C(r.data_commistion,o=>(c(),u("div",z,[t(_,{class:"mb-1",justify:"space-between"},{default:e(()=>[t(d,{md:"auto"},{default:e(()=>[o.status=="0"?(c(),u("h3",A,[i(n(o.name)+" \u0E21\u0E35\u0E04\u0E48\u0E32\u0E04\u0E2D\u0E21 \u0E40\u0E1B\u0E47\u0E19\u0E40\u0E07\u0E34\u0E19\u0E08\u0E33\u0E19\u0E27\u0E19 ",1),t(y,{color:"success"},{default:e(()=>[i(n(o.commssion),1)]),_:2},1024),i(" \u0E1A\u0E32\u0E17 "),t(y,{color:"error"},{default:e(()=>[i("\u0E22\u0E31\u0E07\u0E44\u0E21\u0E48\u0E08\u0E48\u0E32\u0E22\u0E04\u0E48\u0E32\u0E04\u0E2D\u0E21")]),_:1})])):k("",!0),o.status=="1"?(c(),u("h3",E,[i(n(o.name)+" \u0E08\u0E48\u0E32\u0E22\u0E04\u0E48\u0E32\u0E04\u0E2D\u0E21\u0E41\u0E25\u0E49\u0E27 \u0E40\u0E21\u0E37\u0E48\u0E2D "+n(new Date(o.updated_at).getFullYear()+"-"+String(new Date(o.updated_at).getMonth()+1).padStart(2,"0")+"-"+String(new Date(o.updated_at).getDate()).padStart(2,"0"))+" \u0E40\u0E1B\u0E47\u0E19\u0E40\u0E07\u0E34\u0E19\u0E08\u0E33\u0E19\u0E27\u0E19 ",1),t(y,{color:"success"},{default:e(()=>[i(n(o.commision_pay),1)]),_:2},1024),i(" \u0E1A\u0E32\u0E17")])):k("",!0)]),_:2},1024),t(d,{md:"auto"},{default:e(()=>[o.status=="0"?(c(),F(f,{key:0,onClick:m=>g.openDialogConfirm(o)},{default:e(()=>[i("\u0E08\u0E48\u0E32\u0E22\u0E04\u0E48\u0E32\u0E04\u0E2D\u0E21")]),_:2},1032,["onClick"])):k("",!0)]),_:2},1024)]),_:2},1024),t(T,null,{default:e(()=>[L,s("tbody",null,[(c(!0),u(x,null,C(o.data,m=>(c(),u("tr",null,[s("td",null,n(new Date(m.date).getFullYear()+"-"+String(new Date(m.date).getMonth()+1).padStart(2,"0")+"-"+String(new Date(m.date).getDate()).padStart(2,"0")),1),s("td",P,n(m.bet),1),s("td",Y,n(m.win),1),s("td",O,n(m.winlose),1),s("td",Q,n(m.af),1),s("td",R,n(0),1),s("td",q,n(0),1),s("td",G,n(0),1),s("td",H,n(0),1),s("td",I,n(0),1),s("td",J,n(m.commision),1)]))),256))])]),_:2},1024)]))),256))]),_:1})]),_:1}),t(U,{style:{"z-index":"1"},modelValue:r.dialogConfirm,"onUpdate:modelValue":a[7]||(a[7]=o=>r.dialogConfirm=o),"max-width":"800"},{default:e(()=>[t(S,{onClick:a[2]||(a[2]=o=>r.dialogConfirm=!1)}),t(b,{title:"\u0E22\u0E37\u0E19\u0E22\u0E31\u0E19\u0E08\u0E48\u0E32\u0E22\u0E04\u0E48\u0E32\u0E04\u0E2D\u0E21\u0E21\u0E34\u0E0A\u0E0A\u0E31\u0E48\u0E19"},{default:e(()=>[t(w,null,{default:e(()=>[t(_,null,{default:e(()=>[t(d,{cols:"12",sm:"12",md:"12"},{default:e(()=>[i(" \u0E08\u0E33\u0E19\u0E27\u0E19\u0E04\u0E48\u0E32\u0E04\u0E2D\u0E21\u0E21\u0E34\u0E0A\u0E0A\u0E31\u0E48\u0E19 : "),t(y,{color:"success"},{default:e(()=>[i(n(r.confirm_pay.commssion),1)]),_:1}),i(" \u0E1A\u0E32\u0E17 ")]),_:1}),t(d,{cols:"12",sm:"12",md:"12"},{default:e(()=>[t(D,{type:"number",label:"\u0E08\u0E33\u0E19\u0E27\u0E19\u0E17\u0E35\u0E48\u0E08\u0E48\u0E32\u0E22",modelValue:r.confirm_pay.commision_pay,"onUpdate:modelValue":a[3]||(a[3]=o=>r.confirm_pay.commision_pay=o),placeholder:"\u0E08\u0E33\u0E19\u0E27\u0E19\u0E17\u0E35\u0E48\u0E08\u0E48\u0E32\u0E22"},null,8,["modelValue"])]),_:1}),t(d,{cols:"12",sm:"12",md:"12"},{default:e(()=>[t(D,{type:"text",label:"\u0E2B\u0E21\u0E32\u0E22\u0E40\u0E2B\u0E15\u0E38",modelValue:r.confirm_pay.remark,"onUpdate:modelValue":a[4]||(a[4]=o=>r.confirm_pay.remark=o),placeholder:"\u0E2B\u0E21\u0E32\u0E22\u0E40\u0E2B\u0E15\u0E38"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),t(w,{class:"d-flex justify-end flex-wrap gap-3"},{default:e(()=>[t(f,{variant:"tonal",color:"secondary",onClick:a[5]||(a[5]=o=>r.dialogConfirm=!1)},{default:e(()=>[i(" Close ")]),_:1}),t(f,{disabled:r.confirm_btn,onClick:a[6]||(a[6]=o=>g.confirm())},{default:e(()=>[i(" Save ")]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["modelValue"])])}const ct=B(j,[["render",K]]);export{ct as default};
