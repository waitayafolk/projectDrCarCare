import{_ as k}from"./DialogCloseBtn.a9eea126.js";import{y as v,S as p,U as u,o as b,c as x,p as e,w as t,P as n,O as h,E as d,A as V,z as i,N as w,m as r,F as y,a as B,v as m,M as g,Q as f,ac as U,bv as T}from"./index.08e9078e.js";import{V as S}from"./VTable.794b1e77.js";import{V as E}from"./VChip.d13526f8.js";import{V as C}from"./VDialog.74576e46.js";import"./scopeId.7dd2bcb9.js";import"./lazy.06c7709b.js";const O={components:{service:p},data(){return{isPasswordVisible:!1,userData:{name:"",username:"",password:"",email:"",id:"",mobile:"",changpassword:!1},depostData:{credit:0,username:"",id:""},masters:[],showModal:!1,showModalDeposit:!1}},mounted(){this.getMaster()},unmounted(){this.getMaster()},methods:{async openModalDeposit(o){this.showModalDeposit=!0,this.depostData.credit=0,this.depostData.username=o.username,this.depostData.id=o.id},async openModal(){this.showModal=!0,this.userData={name:"",username:"",password:"",email:"",id:"",mobile:"",changpassword:!1}},async getMaster(){await p({method:"get",url:"/admin/get_master",data:[],params:[]}).then(o=>{this.masters=o}).catch(o=>{console.log(o)})},async saveData(){await p({method:"post",url:"/admin/add_master",data:this.userData,params:[]}).then(o=>{o=="success"?(u.fire({title:"Success!",text:"\u0E17\u0E33\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23 \u0E2A\u0E33\u0E40\u0E23\u0E47\u0E08",icon:"success",confirmButtonText:"Ok"}),this.getMaster(),this.showModal=!1):(this.showModal=!1,u.fire({title:"Error!",text:"\u0E17\u0E33\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23\u0E44\u0E21\u0E48\u0E2A\u0E33\u0E40\u0E23\u0E47\u0E08",icon:"error",confirmButtonText:"Ok"}))}).catch(o=>{console.log(o)})},async saveCredit(){this.depostData.credit=Number(this.depostData.credit),await p({method:"post",url:"/admin/add_credit_agents",data:this.depostData,params:[]}).then(o=>{o=="success"?(u.fire({title:"Success!",text:"\u0E17\u0E33\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23 \u0E2A\u0E33\u0E40\u0E23\u0E47\u0E08",icon:"success",confirmButtonText:"Ok"}),this.getMaster(),this.showModalDeposit=!1):(this.showModalDeposit=!1,u.fire({title:"Error!",text:"\u0E17\u0E33\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23\u0E44\u0E21\u0E48\u0E2A\u0E33\u0E40\u0E23\u0E47\u0E08",icon:"error",confirmButtonText:"Ok"}))}).catch(o=>{console.log(o)})},async editData(o){this.userData=o,this.userData.changpassword=!1,this.showModal=!0},async deleteAdmin(o){u.fire({title:"\u0E22\u0E37\u0E19\u0E22\u0E31\u0E19\u0E01\u0E32\u0E23\u0E25\u0E1A?",showCancelButton:!0,confirmButtonText:"\u0E25\u0E1A"}).then(async s=>{s.isConfirmed&&await p({method:"delete",url:"/admin/del_master/"+o,data:[],params:[]}).then(D=>{D=="success"?(u.fire({title:"Success!",text:"\u0E17\u0E33\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23 \u0E2A\u0E33\u0E40\u0E23\u0E47\u0E08",icon:"success",confirmButtonText:"Ok"}),this.getMaster(),this.showModal=!1):(this.showModal=!1,u.fire({title:"Error!",text:"\u0E17\u0E33\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23\u0E44\u0E21\u0E48\u0E2A\u0E33\u0E40\u0E23\u0E47\u0E08",icon:"error",confirmButtonText:"Ok"}))}).catch(D=>{console.log(D)})})}}},F=r("h1",null,"\u0E23\u0E32\u0E22\u0E0A\u0E37\u0E48\u0E2D\u0E21\u0E32\u0E2A\u0E40\u0E15\u0E2D\u0E23\u0E4C",-1),P=r("thead",null,[r("tr",null,[r("th",null,"\u0E2A\u0E16\u0E32\u0E19\u0E30"),r("th",null,"\u0E22\u0E39\u0E2A\u0E40\u0E0B\u0E2D\u0E23\u0E4C\u0E40\u0E19\u0E21"),r("th",null,"\u0E0A\u0E37\u0E48\u0E2D\u0E21\u0E32\u0E2A\u0E40\u0E15\u0E2D\u0E23\u0E4C"),r("th",null,"\u0E40\u0E1A\u0E2D\u0E23\u0E4C\u0E42\u0E17\u0E23\u0E28\u0E31\u0E1E\u0E17\u0E4C"),r("th",{class:"text-center"},"\u0E08\u0E33\u0E19\u0E27\u0E19\u0E40\u0E2D\u0E40\u0E22\u0E19\u0E15\u0E4C"),r("th",{class:"text-end"},"\u0E40\u0E04\u0E23\u0E14\u0E34\u0E15"),r("th",{class:"text-end"},"\u0E40\u0E04\u0E23\u0E14\u0E34\u0E15\u0E40\u0E2D\u0E40\u0E22\u0E19\u0E15\u0E4C"),r("th",{class:"text-end"},"\u0E40\u0E04\u0E23\u0E14\u0E34\u0E15\u0E2A\u0E21\u0E32\u0E0A\u0E34\u0E01"),r("th",null,"\u0E01\u0E23\u0E30\u0E17\u0E33")])],-1),N={class:"text-center"},z={class:"text-end"},j={class:"text-end"},A={class:"text-end"},I=["disabled"];function q(o,s,D,L,a,c){const M=k;return b(),x("div",null,[e(h,{class:"mb-3"},{default:t(()=>[e(n,null,{default:t(()=>[F]),_:1})]),_:1}),e(h,{justify:"space-between",class:"mb-3"},{default:t(()=>[e(n,{md:"7"},{default:t(()=>[e(h)]),_:1}),e(n,{md:"auto"},{default:t(()=>[e(d,{onClick:s[0]||(s[0]=l=>c.openModal()),color:"primary"},{default:t(()=>[e(V,{start:"",icon:"tabler-plus"}),i(" \u0E40\u0E1E\u0E34\u0E48\u0E21\u0E21\u0E32\u0E2A\u0E40\u0E15\u0E2D\u0E23\u0E4C ")]),_:1})]),_:1})]),_:1}),e(g,null,{default:t(()=>[e(w,null,{default:t(()=>[e(S,null,{default:t(()=>[P,r("tbody",null,[(b(!0),x(y,null,B(a.masters,l=>(b(),x("tr",null,[r("td",null,[e(E,{color:"success"},{default:t(()=>[i("\u0E1B\u0E01\u0E15\u0E34")]),_:1})]),r("td",null,m(l.username),1),r("td",null,m(l.name),1),r("td",null,m(l.mobile),1),r("td",N,m(l.data_agents.length),1),r("td",z,m(o.numeralFormat(l.credit_balance)),1),r("td",j,m(o.numeralFormat(l.credit_agents)),1),r("td",A,m(o.numeralFormat(l.credit_user)),1),r("td",null,[e(d,{onClick:_=>c.openModalDeposit(l),color:"warning",size:"small",class:"mr-2"},{default:t(()=>[e(V,{icon:"tabler-settings"}),i(" \u0E40\u0E15\u0E34\u0E21\u0E40\u0E04\u0E23\u0E14\u0E34\u0E15")]),_:2},1032,["onClick"]),e(d,{onClick:_=>c.editData(l),size:"small",class:"mr-2"},{default:t(()=>[e(V,{icon:"tabler-settings"}),i(" \u0E41\u0E01\u0E49\u0E44\u0E02")]),_:2},1032,["onClick"]),e(d,{onClick:_=>c.deleteAdmin(l.id),color:"error",size:"small"},{default:t(()=>[e(V,{icon:"tabler-x"})]),_:2},1032,["onClick"])])]))),256))])]),_:1})]),_:1})]),_:1}),e(C,{modelValue:a.showModal,"onUpdate:modelValue":s[11]||(s[11]=l=>a.showModal=l),"max-width":"800"},{default:t(()=>[e(M,{onClick:s[1]||(s[1]=l=>a.showModal=!1)}),e(g,{title:"\u0E40\u0E1E\u0E34\u0E48\u0E21\u0E21\u0E32\u0E2A\u0E40\u0E15\u0E2D\u0E23\u0E4C"},{default:t(()=>[e(w,null,{default:t(()=>[e(h,null,{default:t(()=>[e(n,{cols:"6",sm:"6",md:"6"},{default:t(()=>[e(f,{modelValue:a.userData.name,"onUpdate:modelValue":s[2]||(s[2]=l=>a.userData.name=l),label:"\u0E0A\u0E37\u0E48\u0E2D\u0E1C\u0E39\u0E49\u0E43\u0E0A\u0E49\u0E07\u0E32\u0E19",placeholder:"\u0E0A\u0E37\u0E48\u0E2D\u0E1C\u0E39\u0E49\u0E43\u0E0A\u0E49\u0E07\u0E32\u0E19"},null,8,["modelValue"])]),_:1}),e(n,{cols:"6",sm:"6",md:"6"},{default:t(()=>[e(f,{modelValue:a.userData.email,"onUpdate:modelValue":s[3]||(s[3]=l=>a.userData.email=l),label:"E-mail",placeholder:"E-mail"},null,8,["modelValue"])]),_:1}),e(n,{cols:"6",sm:"6",md:"6"},{default:t(()=>[e(f,{modelValue:a.userData.mobile,"onUpdate:modelValue":s[4]||(s[4]=l=>a.userData.mobile=l),label:"\u0E40\u0E1A\u0E2D\u0E23\u0E4C\u0E42\u0E17\u0E23",placeholder:"\u0E40\u0E1A\u0E2D\u0E23\u0E4C\u0E42\u0E17\u0E23"},null,8,["modelValue"])]),_:1}),e(n,{cols:"6",sm:"6",md:"6"}),e(n,{cols:"12",sm:"12",md:"12"},{default:t(()=>[e(f,{modelValue:a.userData.username,"onUpdate:modelValue":s[5]||(s[5]=l=>a.userData.username=l),label:"Username",placeholder:"Username"},null,8,["modelValue"])]),_:1}),e(n,{cols:"12",sm:"12",md:"12"},{default:t(()=>[U(r("input",{disabled:a.userData.id=="",type:"checkbox",id:"checkbox","onUpdate:modelValue":s[6]||(s[6]=l=>a.userData.changpassword=l)},null,8,I),[[T,a.userData.changpassword]]),e(f,{disabled:a.userData.id==""?!1:a.userData.changpassword!=!0,type:a.isPasswordVisible?"text":"password",rules:[o.requiredValidator],"append-inner-icon":a.isPasswordVisible?"tabler-eye-off":"tabler-eye","onClick:appendInner":s[7]||(s[7]=l=>a.isPasswordVisible=!a.isPasswordVisible),modelValue:a.userData.password,"onUpdate:modelValue":s[8]||(s[8]=l=>a.userData.password=l),label:"password",placeholder:"password"},null,8,["disabled","type","rules","append-inner-icon","modelValue"])]),_:1})]),_:1})]),_:1}),e(w,{class:"d-flex justify-end flex-wrap gap-3"},{default:t(()=>[e(d,{variant:"tonal",color:"secondary",onClick:s[9]||(s[9]=l=>a.showModal=!1)},{default:t(()=>[i(" Close ")]),_:1}),e(d,{onClick:s[10]||(s[10]=l=>c.saveData())},{default:t(()=>[i(" Save ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(C,{modelValue:a.showModalDeposit,"onUpdate:modelValue":s[16]||(s[16]=l=>a.showModalDeposit=l),"max-width":"800"},{default:t(()=>[e(M,{onClick:s[12]||(s[12]=l=>a.showModalDeposit=!1)}),e(g,{title:"\u0E40\u0E15\u0E34\u0E21\u0E40\u0E04\u0E23\u0E14\u0E34\u0E15\u0E21\u0E32\u0E2A\u0E40\u0E04\u0E2D\u0E23\u0E4C"},{default:t(()=>[e(w,null,{default:t(()=>[e(h,null,{default:t(()=>[e(n,{cols:"12",sm:"12",md:"12"},{default:t(()=>[e(f,{type:"number",modelValue:a.depostData.credit,"onUpdate:modelValue":s[13]||(s[13]=l=>a.depostData.credit=l),label:"\u0E40\u0E04\u0E23\u0E14\u0E34\u0E15",placeholder:"\u0E40\u0E04\u0E23\u0E14\u0E34\u0E15"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(w,{class:"d-flex justify-end flex-wrap gap-3"},{default:t(()=>[e(d,{variant:"tonal",color:"secondary",onClick:s[14]||(s[14]=l=>a.showModalDeposit=!1)},{default:t(()=>[i(" Close ")]),_:1}),e(d,{onClick:s[15]||(s[15]=l=>c.saveCredit())},{default:t(()=>[i(" Save ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])])}const X=v(O,[["render",q]]);export{X as default};
