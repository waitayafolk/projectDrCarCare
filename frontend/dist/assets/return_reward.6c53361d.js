import{y as w,S as d,U as m,o as c,c as p,p as t,w as o,P as n,m as i,ac as g,bQ as b,E as h,A as x,z as u,O as S,N as v,F as _,a as C,v as L,M as B}from"./index.08e9078e.js";import{u as y}from"./index.4f55e7ff.js";import{V as D}from"./VSelect.8ea6ce08.js";import{V as T,a as k}from"./VTabs.e0e0f4e0.js";import{V as f}from"./VDivider.6a220979.js";import{V as A,a as I}from"./VWindowItem.1f013228.js";import{V as U,a as E,b as N,c as O}from"./VList.2ba00a19.js";import"./scopeId.7dd2bcb9.js";import"./lazy.06c7709b.js";import"./VMenu.80d823a6.js";import"./VCheckboxBtn.79b29e49.js";import"./VSelectionControl.e15bfe62.js";import"./VChip.d13526f8.js";const F={components:{useLoading:y,service:d},data(){return{tab:"lotto",date:new Date,lotto_groups:[],lottoSelect:{label:"\u0E1B\u0E23\u0E30\u0E40\u0E20\u0E17\u0E2B\u0E27\u0E22",id:0},lotto_rewarded:[]}},mounted(){this.getData()},methods:{async getData(){await d({method:"get",url:"/admin/lotto-groups",data:[],params:[]}).then(s=>{let e=[{label:"\u0E1B\u0E23\u0E30\u0E40\u0E20\u0E17\u0E2B\u0E27\u0E22",id:0}];for(let r of s)e.push({label:r.title,id:r.id});this.lotto_groups=e}).catch(s=>{console.log(s)})},async searchLottoAward(){let s=`${String(new Date(this.date).getFullYear()).padStart(2,"0")}-${String(new Date(this.date).getMonth()+1).padStart(2,"0")}-${String(new Date(this.date).getDate()).padStart(2,"0")}`;await d({method:"post",url:"/admin/get-lotto-awarded",data:{date:s,lotto_group:this.lottoSelect.id},params:[]}).then(e=>{this.lotto_rewarded=e}).catch(e=>{console.log(e)})},async chooseLotto(s){m.fire({title:"\u0E22\u0E37\u0E19\u0E22\u0E31\u0E19\u0E17\u0E33\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23 ?",text:"\u0E25\u0E1A\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23 !",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"OK"}).then(async e=>{e.isConfirmed==!0&&await d({method:"delete",url:"/admin/delete_round_success/"+s.id,data:[],params:[]}).then(r=>{r=="success"?(m.fire({title:"Success!",text:"\u0E17\u0E33\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23 \u0E2A\u0E33\u0E40\u0E23\u0E47\u0E08",icon:"success",confirmButtonText:"Ok"}),this.searchLottoAward()):(m.fire({title:"Error!",text:"\u0E17\u0E33\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23\u0E44\u0E21\u0E48\u0E2A\u0E33\u0E40\u0E23\u0E47\u0E08",icon:"error",confirmButtonText:"Ok"}),this.searchLottoAward())}).catch(r=>{console.log(r)})})}}},M=i("h1",null,"\u0E22\u0E01\u0E40\u0E25\u0E34\u0E01\u0E23\u0E2D\u0E1A\u0E17\u0E35\u0E48\u0E2D\u0E2D\u0E01\u0E23\u0E32\u0E07\u0E27\u0E31\u0E25\u0E40\u0E40\u0E25\u0E49\u0E27",-1),z=i("label",null,"\u0E27\u0E31\u0E19\u0E17\u0E35\u0E48\u0E2D\u0E2D\u0E01\u0E23\u0E32\u0E07\u0E27\u0E31\u0E25",-1),W=i("label",null,"\u0E1B\u0E23\u0E30\u0E40\u0E20\u0E17\u0E2B\u0E27\u0E22",-1);function j(s,e,r,K,l,V){return c(),p("div",null,[t(S,{class:"mb-2"},{default:o(()=>[t(n,{cols:"12",sm:"12",md:"4"},{default:o(()=>[M]),_:1}),t(n,{cols:"12",sm:"12",md:"4"},{default:o(()=>[i("div",null,[z,g(i("input",{type:"date","onUpdate:modelValue":e[0]||(e[0]=a=>l.date=a),style:{width:"100%",height:"38px",border:"1px solid #C9C9EB","border-radius":"5px"}},null,512),[[b,l.date]])])]),_:1}),t(n,{cols:"12",sm:"12",md:"4"},{default:o(()=>[i("div",null,[W,t(D,{modelValue:l.lottoSelect,"onUpdate:modelValue":e[1]||(e[1]=a=>l.lottoSelect=a),items:l.lotto_groups,"item-title":"label","item-value":"id","persistent-hint":"","return-object":"","single-line":""},null,8,["modelValue","items"])])]),_:1}),t(n,{cols:"12",sm:"12",md:"12",style:{"text-align":"center"}},{default:o(()=>[t(h,{color:"primary",onClick:e[2]||(e[2]=a=>V.searchLottoAward())},{default:o(()=>[t(x,{icon:"tabler-search"}),u(" \u0E04\u0E49\u0E19\u0E2B\u0E32 ")]),_:1})]),_:1})]),_:1}),t(k,{modelValue:l.tab,"onUpdate:modelValue":e[3]||(e[3]=a=>l.tab=a)},{default:o(()=>[t(T,{value:"lotto"},{default:o(()=>[u(" 1. \u0E23\u0E2D\u0E1A\u0E2B\u0E27\u0E22 ")]),_:1})]),_:1},8,["modelValue"]),t(f),t(B,{flat:""},{default:o(()=>[t(v,null,{default:o(()=>[t(A,{modelValue:l.tab,"onUpdate:modelValue":e[4]||(e[4]=a=>l.tab=a)},{default:o(()=>[t(I,{value:"lotto"},{default:o(()=>[t(U,null,{default:o(()=>[(c(!0),p(_,null,C(l.lotto_rewarded,a=>(c(),p(_,null,[t(E,{class:"mt-2"},{append:o(()=>[t(h,{onClick:P=>V.chooseLotto(a),size:"small"},{default:o(()=>[u(" \u0E40\u0E25\u0E37\u0E2D\u0E01 ")]),_:2},1032,["onClick"])]),default:o(()=>[t(N,{class:"text-h5"},{default:o(()=>[u(L(a.title),1)]),_:2},1024),t(O,{class:"mt-1"})]),_:2},1024),t(f)],64))),256))]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}),t(f)]),_:1})])}const at=w(F,[["render",j]]);export{at as default};
