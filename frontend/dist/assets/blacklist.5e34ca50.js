import{_ as g}from"./DialogCloseBtn.a9eea126.js";import{y as v,S as y,U as V,o as f,c as p,p as t,w as a,P as n,O as m,Q as d,E as c,A as D,z as b,N as _,m as o,F as C,a as M,v as u,M as w}from"./index.08e9078e.js";import{V as S}from"./VTable.794b1e77.js";import{V as B}from"./VSelect.8ea6ce08.js";import{V as U}from"./VDialog.74576e46.js";import"./VList.2ba00a19.js";import"./VDivider.6a220979.js";import"./scopeId.7dd2bcb9.js";import"./lazy.06c7709b.js";import"./VMenu.80d823a6.js";import"./VCheckboxBtn.79b29e49.js";import"./VSelectionControl.e15bfe62.js";import"./VChip.d13526f8.js";const h=y.create({baseURL:"https://api.niyomlotto.com/"}),T={components:{},data(){return{backlistData:{id:"",bank_id:"",bank_account:"",bank_no:"",mobile:"",remark:""},banks:[],backlist:[],showModal:!1}},mounted(){this.getData(),this.getBank()},methods:{async openModal(){this.showModal=!0,this.backlistData={id:"",bank_id:"",bank_account:"",bank_no:"",mobile:"",remark:""}},async getBank(){let i=await h.get("/banks",{headers:{}}).then(r=>r.data).catch(r=>r.response.data),e=[];for(let r of i.result)e.push({text:r.official_name,value:r.id});this.banks=e},async getData(){let i=await h.get("/admin/get_bank_list",{headers:{Authorization:`bearer ${JSON.parse(localStorage.getItem("token"))}`,"Content-type":"application/json"}}).then(e=>e.data).catch(e=>e.response.data);this.backlist=i.data},async saveData(){(await h.post("/admin/save_backlist",this.backlistData,{headers:{Authorization:`bearer ${JSON.parse(localStorage.getItem("token"))}`,"Content-Type":"application/json"}}).then(e=>e.data).catch(e=>e.response.data)).status=="success"?(V.fire({title:"Success!",text:"\u0E17\u0E33\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23 \u0E2A\u0E33\u0E40\u0E23\u0E47\u0E08",icon:"success",confirmButtonText:"Ok"}),this.getData(),this.showModal=!1):(this.showModal=!1,V.fire({title:"Error!",text:"\u0E17\u0E33\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23\u0E44\u0E21\u0E48\u0E2A\u0E33\u0E40\u0E23\u0E47\u0E08",icon:"error",confirmButtonText:"Ok"}))},async editData(i){this.backlistData=i,this.showModal=!0}}},N=o("h1",null,"\u0E23\u0E32\u0E22\u0E0A\u0E37\u0E48\u0E2D\u0E1A\u0E31\u0E0D\u0E0A\u0E35\u0E14\u0E33",-1),O=o("thead",null,[o("tr",null,[o("th",null,"\u0E18\u0E19\u0E32\u0E04\u0E32\u0E23"),o("th",null,"\u0E0A\u0E37\u0E48\u0E2D\u0E1A\u0E31\u0E0D\u0E0A\u0E35"),o("th",null,"\u0E40\u0E25\u0E02\u0E17\u0E35\u0E48\u0E1A\u0E31\u0E0D\u0E0A\u0E35"),o("th",null,"\u0E40\u0E1A\u0E2D\u0E23\u0E4C\u0E42\u0E17\u0E23\u0E28\u0E31\u0E1E\u0E17\u0E4C"),o("th",null,"\u0E2B\u0E21\u0E32\u0E22\u0E40\u0E2B\u0E15\u0E38"),o("th",{class:"text-center"},"\u0E01\u0E23\u0E30\u0E17\u0E33")])],-1),j={class:"text-center"},z={class:"text-center"};function I(i,e,r,A,s,k){const x=g;return f(),p("div",null,[t(m,{class:"mb-3"},{default:a(()=>[t(n,null,{default:a(()=>[N]),_:1})]),_:1}),t(m,{justify:"space-between",class:"mb-3"},{default:a(()=>[t(n,{md:"7"},{default:a(()=>[t(m,null,{default:a(()=>[t(n,{md:"6"},{default:a(()=>[t(d,{label:"\u0E04\u0E49\u0E19\u0E2B\u0E32","prepend-inner-icon":"tabler-search"})]),_:1})]),_:1})]),_:1}),t(n,{md:"auto"},{default:a(()=>[t(c,{onClick:e[0]||(e[0]=l=>k.openModal()),color:"primary"},{default:a(()=>[t(D,{start:"",icon:"tabler-plus"}),b(" \u0E40\u0E1E\u0E34\u0E48\u0E21\u0E1A\u0E31\u0E0D\u0E0A\u0E35\u0E14\u0E33 ")]),_:1})]),_:1})]),_:1}),t(w,null,{default:a(()=>[t(_,null,{default:a(()=>[t(S,null,{default:a(()=>[O,o("tbody",null,[(f(!0),p(C,null,M(s.backlist,l=>(f(),p("tr",null,[o("td",null,u(l.official_name),1),o("td",null,u(l.bank_account),1),o("td",null,u(l.bank_no),1),o("td",null,u(l.mobile),1),o("td",j,u(l.remark),1),o("td",z,[t(c,{onClick:E=>k.editData(l),size:"small",class:"mr-2"},{default:a(()=>[t(D,{icon:"tabler-settings"}),b(" \u0E41\u0E01\u0E49\u0E44\u0E02 ")]),_:2},1032,["onClick"])])]))),256))])]),_:1})]),_:1})]),_:1}),t(U,{modelValue:s.showModal,"onUpdate:modelValue":e[9]||(e[9]=l=>s.showModal=l),"max-width":"800"},{default:a(()=>[t(x,{onClick:e[1]||(e[1]=l=>s.showModal=!1)}),t(w,{title:"\u0E40\u0E1E\u0E34\u0E48\u0E21\u0E41\u0E1A\u0E07\u0E04\u0E4C\u0E40\u0E40\u0E1A\u0E25\u0E47\u0E04\u0E25\u0E34\u0E0A"},{default:a(()=>[t(_,null,{default:a(()=>[t(m,null,{default:a(()=>[t(n,{cols:"6",sm:"6",md:"6"},{default:a(()=>[t(d,{modelValue:s.backlistData.bank_account,"onUpdate:modelValue":e[2]||(e[2]=l=>s.backlistData.bank_account=l),label:"\u0E0A\u0E37\u0E48\u0E2D\u0E1A\u0E31\u0E0D\u0E0A\u0E35\u0E18\u0E19\u0E32\u0E04\u0E32\u0E23",placeholder:"\u0E0A\u0E37\u0E48\u0E2D\u0E1A\u0E31\u0E0D\u0E0A\u0E35\u0E18\u0E19\u0E32\u0E04\u0E32\u0E23"},null,8,["modelValue"])]),_:1}),t(n,{cols:"6",sm:"6",md:"6"},{default:a(()=>[t(d,{modelValue:s.backlistData.bank_no,"onUpdate:modelValue":e[3]||(e[3]=l=>s.backlistData.bank_no=l),label:"\u0E40\u0E25\u0E02\u0E1A\u0E31\u0E0D\u0E0A\u0E35\u0E18\u0E19\u0E32\u0E04\u0E32\u0E23",placeholder:"\u0E40\u0E25\u0E02\u0E1A\u0E31\u0E0D\u0E0A\u0E35\u0E18\u0E19\u0E32\u0E04\u0E32\u0E23"},null,8,["modelValue"])]),_:1}),t(n,{cols:"6",sm:"6",md:"6"},{default:a(()=>[t(d,{modelValue:s.backlistData.mobile,"onUpdate:modelValue":e[4]||(e[4]=l=>s.backlistData.mobile=l),label:"\u0E40\u0E1A\u0E2D\u0E23\u0E4C\u0E42\u0E17\u0E23",placeholder:"\u0E40\u0E1A\u0E2D\u0E23\u0E4C\u0E42\u0E17\u0E23"},null,8,["modelValue"])]),_:1}),t(n,{cols:"6",sm:"6",md:"6"},{default:a(()=>[t(d,{modelValue:s.backlistData.remark,"onUpdate:modelValue":e[5]||(e[5]=l=>s.backlistData.remark=l),label:"\u0E2B\u0E21\u0E32\u0E22\u0E40\u0E2B\u0E15\u0E38",placeholder:"\u0E2B\u0E21\u0E32\u0E22\u0E40\u0E2B\u0E15\u0E38"},null,8,["modelValue"])]),_:1}),t(n,{cols:"12",sm:"12",md:"12"},{default:a(()=>[t(B,{modelValue:s.backlistData.bank_id,"onUpdate:modelValue":e[6]||(e[6]=l=>s.backlistData.bank_id=l),label:"\u0E40\u0E25\u0E37\u0E2D\u0E01\u0E18\u0E19\u0E32\u0E04\u0E32\u0E23",items:s.banks,"item-title":"text","item-value":"value"},null,8,["modelValue","items"])]),_:1})]),_:1})]),_:1}),t(_,{class:"d-flex justify-end flex-wrap gap-3"},{default:a(()=>[t(c,{variant:"tonal",color:"secondary",onClick:e[7]||(e[7]=l=>s.showModal=!1)},{default:a(()=>[b(" Close ")]),_:1}),t(c,{onClick:e[8]||(e[8]=l=>k.saveData())},{default:a(()=>[b(" Save ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])])}const Z=v(T,[["render",I]]);export{Z as default};
