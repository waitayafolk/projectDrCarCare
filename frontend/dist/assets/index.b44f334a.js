import{_ as B}from"./DialogCloseBtn.a9eea126.js";import{f as v}from"./helpers.segment.1007a634.js";import{h as x}from"./moment.9709ab41.js";import{s as k}from"./vue3-datepicker.esm.70ae366a.js";import{y as M,S as _,r as N,o as c,c as m,p as l,w as s,P as u,O as h,Q as Y,E as b,z as p,F as V,a as w,b as P,m as t,v as d,N as f,A as T,M as y,s as F}from"./index.08e9078e.js";import{t as U}from"./helpers.0291976c.js";import{V as E}from"./VSelect.8ea6ce08.js";import{V as I,a as O}from"./VTabs.e0e0f4e0.js";import{V as D}from"./VTable.794b1e77.js";import{V as j}from"./VChip.d13526f8.js";import{V as z}from"./VDialog.74576e46.js";import"./VList.2ba00a19.js";import"./VDivider.6a220979.js";import"./scopeId.7dd2bcb9.js";import"./lazy.06c7709b.js";import"./VMenu.80d823a6.js";import"./VCheckboxBtn.79b29e49.js";import"./VSelectionControl.e15bfe62.js";const J={computed:{moment(){return x}},components:{DatePicker:k,service:_},data(){return{thaiDate:U,lotto:[],lotto_id:0,start_date:x.now(),end_date:x.now(),search:"",sort:"desc",sortBy:[{text:"\u0E25\u0E48\u0E32\u0E2A\u0E38\u0E14",value:"desc"},{text:"\u0E40\u0E01\u0E48\u0E32\u0E2A\u0E38\u0E14",value:"asc"}],datas:[],bills:[],showModal:!1,currentPage:1,length:[],items:[],detail:[]}},mounted(){this.getlottogroup()},methods:{formatNumber:v,async getlottogroup(){await _({method:"get",url:"/lotto-groups",data:[],params:[]}).then(r=>{let a=[{id:0,title:"\u0E2B\u0E27\u0E22\u0E17\u0E31\u0E49\u0E07\u0E2B\u0E21\u0E14"}];for(let n of r)a.push({id:n.id,title:n.title});this.lotto_id=a[0].id,this.lotto=a,this.getBillCustomer()}).catch(r=>{console.log(r)})},async openDetail(r){await _({method:"post",url:"/agent/bill-detail",data:{bill_id:r},params:[]}).then(n=>{this.showModal=!0,this.bills=n}).catch(n=>{console.log(n)})},async tabSwitch(r){this.lotto_id=r.id,this.getBillCustomer()},async getBillCustomer(){const r={search:this==null?void 0:this.search,sort:this==null?void 0:this.sort};let a={agent_id:JSON.parse(localStorage.getItem("result_data")).role=="subport"?JSON.parse(localStorage.getItem("result_data")).role_id:JSON.parse(localStorage.getItem("result_data")).id,start_date:`${new Date(this.start_date).getFullYear()}-${String(new Date(this.start_date).getMonth()+1).padStart(2,"0")}-${String(new Date(this.start_date).getDate()).padStart(2,"0")}`,end_date:`${new Date(this.end_date).getFullYear()}-${String(new Date(this.end_date).getMonth()+1).padStart(2,"0")}-${String(new Date(this.end_date).getDate()).padStart(2,"0")}`,lotto_id:this.lotto_id};await _({method:"post",url:"/agent/lottolist",data:a,params:r}).then(n=>{this.datas=n}).catch(n=>{console.log(n)})}}},q=t("h1",null,"\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23\u0E42\u0E1E\u0E22",-1),A=t("thead",null,[t("tr",null,[t("th",{class:"text-center"},"\u0E40\u0E25\u0E02\u0E17\u0E35\u0E48\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23"),t("th",null,"\u0E2A\u0E21\u0E32\u0E0A\u0E34\u0E01"),t("th",null,"\u0E40\u0E2D\u0E40\u0E22\u0E19\u0E15\u0E4C"),t("th",null,"\u0E21\u0E32\u0E2A\u0E40\u0E15\u0E2D\u0E23\u0E4C"),t("th",null,"\u0E07\u0E27\u0E14\u0E17\u0E35\u0E48"),t("th",{class:"text-center"},"\u0E27\u0E31\u0E19\u0E17\u0E35\u0E48/\u0E40\u0E27\u0E25\u0E32"),t("th",{class:"text-end"},"\u0E40\u0E07\u0E34\u0E19\u0E40\u0E14\u0E34\u0E21\u0E1E\u0E31\u0E19"),t("th",{class:"text-end"},"\u0E1C\u0E25\u0E0A\u0E19\u0E30"),t("th",{class:"text-center"},"\u0E2A\u0E16\u0E32\u0E19\u0E30"),t("th",null,"\u0E14\u0E39\u0E42\u0E1E\u0E22")])],-1),L={class:"text-center"},Q={class:"text-center"},R={class:"text-end"},G={class:"text-end"},H={class:"text-center"},K=t("td",null,null,-1),W=t("thead",null,[t("tr",{class:"bg-primary"},[t("td",null,"\u0E1B\u0E23\u0E30\u0E40\u0E20\u0E17\u0E2B\u0E27\u0E22"),t("td",null,"\u0E27\u0E31\u0E19\u0E17\u0E35\u0E48\u0E17\u0E33\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23"),t("td",null,"\u0E27\u0E31\u0E19\u0E17\u0E35\u0E48\u0E2D\u0E2D\u0E01\u0E23\u0E32\u0E07\u0E27\u0E31\u0E25")])],-1),X=t("thead",{class:"bg-primary"},[t("tr",null,[t("th",{class:"text-center"},"\u0E25\u0E33\u0E14\u0E31\u0E1A"),t("th",null,"\u0E23\u0E2D\u0E1A"),t("th",null,"\u0E1B\u0E23\u0E30\u0E40\u0E20\u0E17\u0E17\u0E35\u0E48\u0E41\u0E17\u0E07"),t("th",null,"\u0E40\u0E25\u0E02\u0E17\u0E35\u0E48\u0E41\u0E17\u0E07"),t("th",{class:"text-end"},"\u0E22\u0E2D\u0E14\u0E41\u0E17\u0E07"),t("th",{class:"text-end"},"\u0E22\u0E2D\u0E14\u0E16\u0E39\u0E01\u0E23\u0E32\u0E07\u0E27\u0E31\u0E25"),t("th",null,"\u0E1C\u0E25")])],-1),Z={class:"text-center"},$={class:"text-end"},tt={class:"text-end"};function et(r,a,n,lt,o,i){const C=N("DatePicker"),S=B;return c(),m("div",null,[l(h,{class:"mb-3"},{default:s(()=>[l(u,null,{default:s(()=>[q]),_:1})]),_:1}),l(h,{justify:"space-between",class:"mb-3"},{default:s(()=>[l(u,{cols:"12",md:"4"},{default:s(()=>[l(h,null,{default:s(()=>[l(u,{cols:"12",md:"7"},{default:s(()=>[l(Y,{modelValue:o.search,"onUpdate:modelValue":a[0]||(a[0]=e=>o.search=e),label:"\u0E04\u0E49\u0E19\u0E2B\u0E32","prepend-inner-icon":"tabler-search"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),l(u,{cols:"12",md:"8"},{default:s(()=>[l(h,{justify:"end"},{default:s(()=>[l(u,{cols:"12",sm:"4",md:"2"},{default:s(()=>[l(E,{modelValue:o.sort,"onUpdate:modelValue":a[1]||(a[1]=e=>o.sort=e),items:o.sortBy,"item-title":"text","item-value":"value",label:"\u0E40\u0E23\u0E35\u0E22\u0E07\u0E15\u0E32\u0E21\u0E25\u0E33\u0E14\u0E31\u0E1A"},null,8,["modelValue","items"])]),_:1}),l(u,{cols:"12",sm:"4",md:"auto"},{default:s(()=>[l(C,{style:{border:"1px solid #B0BEC5","border-radius":"6px",padding:"6px"},modelValue:o.start_date,"onUpdate:modelValue":a[2]||(a[2]=e=>o.start_date=e)},null,8,["modelValue"])]),_:1}),l(u,{cols:"12",sm:"4",md:"auto"},{default:s(()=>[l(C,{style:{border:"1px solid #B0BEC5","border-radius":"6px",padding:"6px"},modelValue:o.end_date,"onUpdate:modelValue":a[3]||(a[3]=e=>o.end_date=e)},null,8,["modelValue"])]),_:1}),l(u,{cols:"12",sm:"4",md:"auto"},{default:s(()=>[l(b,{onClick:a[4]||(a[4]=e=>i.getBillCustomer()),class:"mr-2"},{default:s(()=>[p(" \u0E04\u0E49\u0E19\u0E2B\u0E32 ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),l(O,null,{default:s(()=>[(c(!0),m(V,null,w(o.lotto,e=>(c(),P(I,{onClick:g=>i.tabSwitch(e)},{default:s(()=>[t("span",null,d(e.title),1)]),_:2},1032,["onClick"]))),256))]),_:1}),l(y,null,{default:s(()=>[l(f,null,{default:s(()=>[l(D,{class:"text-no-wrap",style:{"margin-top":"20px"},density:"compact"},{default:s(()=>[A,t("tbody",null,[(c(!0),m(V,null,w(o.datas,e=>(c(),m("tr",null,[t("td",L,d(e.id),1),t("td",null,d(e.username),1),t("td",null,d(e.agent),1),t("td",null,d(e.master),1),t("td",null,d(e.lotto),1),t("td",Q,d(o.thaiDate(e.created_at)),1),t("td",R,d(i.formatNumber(e.bet)),1),t("td",G,d(i.formatNumber(e.amount)),1),t("td",H,[l(j,{color:e.status=="win"?"success":e.status=="lose"?"error":e.status=="use"?"warning":e.status=="delete"?"secondary":"-"},{default:s(()=>[p(d(e.status=="win"?"\u0E44\u0E14\u0E49":e.status=="lose"?"\u0E40\u0E2A\u0E35\u0E22":e.status=="use"?"\u0E23\u0E2D\u0E2D\u0E2D\u0E01\u0E23\u0E32\u0E07\u0E27\u0E31\u0E25":e.status=="delete"?"\u0E04\u0E37\u0E19\u0E42\u0E1E\u0E22":"-"),1)]),_:2},1032,["color"])]),t("td",null,[l(b,{onClick:g=>i.openDetail(e.id),size:"small",class:"mr-2"},{default:s(()=>[l(T,{icon:"tabler-list"}),p(" \u0E23\u0E32\u0E22\u0E01\u0E32\u0E23\u0E43\u0E19\u0E1A\u0E34\u0E25 ")]),_:2},1032,["onClick"])]),K]))),256))])]),_:1})]),_:1})]),_:1}),l(z,{modelValue:o.showModal,"onUpdate:modelValue":a[7]||(a[7]=e=>o.showModal=e),"max-width":"800"},{default:s(()=>[l(S,{onClick:a[5]||(a[5]=e=>o.showModal=!1)}),l(y,{title:"\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23\u0E43\u0E19\u0E1A\u0E34\u0E25"},{default:s(()=>[l(f,null,{default:s(()=>[l(y,{class:"my-3"},{default:s(()=>[l(f,{class:"pa-2"},{default:s(()=>[l(D,{density:"compact",class:"text-center"},{default:s(()=>[W,t("tbody",null,[t("tr",null,[t("td",null,d(o.bills[0].lotto),1),t("td",null,d(i.moment(o.bills[0].date_bet).format("DD/MM/YYYY hh:mm:ss")),1),t("td",null,d(o.bills[0].date_reward?i.moment(o.bills[0].date_reward).format("DD/MM/YYYY hh:mm:ss"):"\u0E23\u0E2D\u0E2D\u0E2D\u0E01\u0E1C\u0E25"),1)])])]),_:1})]),_:1})]),_:1}),l(D,{density:"compact"},{default:s(()=>[X,t("tbody",null,[(c(!0),m(V,null,w(o.bills,(e,g)=>(c(),m("tr",{class:F(e.status=="win"?"bg-success":"text-secondary")},[t("td",Z,d(g+1),1),t("td",null,d(e.round),1),t("td",null,d(e.type),1),t("td",null,d(e.value),1),t("td",$,d(e.bet),1),t("td",tt,d(e.amount),1),t("td",null,d(e.status=="win"?"\u0E44\u0E14\u0E49":e.status=="lose"?"\u0E40\u0E2A\u0E35\u0E22":e.status=="wait"?"\u0E23\u0E2D\u0E2D\u0E2D\u0E01\u0E23\u0E32\u0E07\u0E27\u0E31\u0E25":e.status=="delete"?"\u0E04\u0E37\u0E19\u0E42\u0E1E\u0E22":"-"),1)],2))),256))])]),_:1})]),_:1}),l(f,{class:"d-flex justify-end flex-wrap gap-3"},{default:s(()=>[l(b,{variant:"tonal",color:"secondary",onClick:a[6]||(a[6]=e=>o.showModal=!1)},{default:s(()=>[p(" \u0E1B\u0E34\u0E14 ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])])}const wt=M(J,[["render",et]]);export{wt as default};
