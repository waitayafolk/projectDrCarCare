import{dF as h,dG as x,dH as T,dI as I,dJ as N,dK as L,dL as B,k as v,o as m,b as c,w as o,p as s,P as f,m as u,K as k,q as l,M as C,N as _,V as P,x as J,O as b,Q as p,dM as w,L as g,E as y,z as V,dN as O,dR as M,U as i,dS as j,dQ as U}from"./index.08e9078e.js";const $={class:"position-relative auth-bg rounded-lg w-100 ma-8 me-0"},D={class:"d-flex align-center justify-center w-100 h-100"},E=u("h5",{class:"text-h5 font-weight-semibold mb-1"}," \u0E40\u0E02\u0E49\u0E32\u0E2A\u0E39\u0E48\u0E23\u0E30\u0E1A\u0E1A Niyomlotto \u0E02\u0E2D\u0E07\u0E21\u0E32\u0E2A\u0E40\u0E15\u0E2D\u0E23\u0E4C ",-1),R=u("p",{class:"mb-0"}," \u0E42\u0E1B\u0E23\u0E14\u0E25\u0E07\u0E0A\u0E37\u0E48\u0E2D\u0E40\u0E02\u0E49\u0E32\u0E43\u0E0A\u0E49\u0E1A\u0E31\u0E0D\u0E0A\u0E35\u0E02\u0E2D\u0E07\u0E04\u0E38\u0E13 ",-1),q=u("div",{class:"d-flex align-center flex-wrap justify-space-between mt-2 mb-4"},null,-1),F={class:"d-flex align-center flex-wrap justify-space-between mt-2 mb-4"},G={components:{},data(){return{mobile:"",otp:"",check_top:!1,password_login:"",username:"",token:""}},computed:{},methods:{async confirm_otp(){let n={mobile:this.mobile,otp:this.otp,username:this.username,password:this.password_login,token:this.token},e=await M(n);e.message=="success"?(localStorage.setItem("result_data",JSON.stringify(e.result)),localStorage.setItem("token",JSON.stringify(e.result.token)),localStorage.setItem("role",JSON.stringify(e.result.status)),localStorage.setItem("isLogin",JSON.stringify(!0)),this.$router.push("/admin"),i.fire({title:"Success!",text:"Login \u0E2A\u0E33\u0E40\u0E23\u0E47\u0E08",icon:"success",confirmButtonText:"Ok"})):i.fire({title:"Error!",text:"\u0E01\u0E23\u0E38\u0E13\u0E32\u0E15\u0E23\u0E27\u0E08\u0E2A\u0E2D\u0E1A OTP \u0E2D\u0E35\u0E01\u0E04\u0E23\u0E31\u0E49\u0E07",icon:"error",confirmButtonText:"Ok"})},async send_otp(){let n={mobile:this.mobile,username:this.username,password:this.password_login},e=await j(n);e.status==200?(this.check_top=!0,i.fire({title:"Success!",text:"\u0E02\u0E2D OTP \u0E2A\u0E33\u0E40\u0E23\u0E47\u0E08\u0E40\u0E40\u0E25\u0E49\u0E27",icon:"success",confirmButtonText:"Ok"}),this.token=e.result.token):i.fire({title:"\u0E44\u0E21\u0E48\u0E1E\u0E1A\u0E1C\u0E39\u0E49\u0E43\u0E0A\u0E49\u0E07\u0E32\u0E19 !!",text:"\u0E44\u0E21\u0E48\u0E1E\u0E1A\u0E1C\u0E39\u0E49\u0E43\u0E0A\u0E49\u0E07\u0E32\u0E19\u0E43\u0E19\u0E23\u0E30\u0E1A\u0E1A",icon:"error",confirmButtonText:"Ok"})},async login(){let n={username:this.username,password:this.password_login},e=await U(n);e.message=="login success"?(localStorage.setItem("result_data",JSON.stringify(e.result)),localStorage.setItem("token",JSON.stringify(e.result.token)),localStorage.setItem("role",JSON.stringify(e.result.status)),localStorage.setItem("isLogin",JSON.stringify(!0)),this.$router.push("/master"),i.fire({title:"Success!",text:"Login \u0E2A\u0E33\u0E40\u0E23\u0E47\u0E08",icon:"success",confirmButtonText:"Ok"})):i.fire({title:"Error!",text:"\u0E01\u0E23\u0E38\u0E13\u0E32\u0E15\u0E23\u0E27\u0E08\u0E2A\u0E2D\u0E1A username \u0E40\u0E40\u0E25\u0E30 password \u0E2D\u0E35\u0E01\u0E04\u0E23\u0E31\u0E49\u0E07",icon:"error",confirmButtonText:"Ok"})}}},K=Object.assign(G,{__name:"login-master",setup(n){const e=h(N,I,T,x,!0),S=h(B,L),d=v(!1);return(t,a)=>(m(),c(b,{"no-gutters":"",class:"auth-wrapper"},{default:o(()=>[s(f,{lg:"8",class:"d-none d-lg-flex"},{default:o(()=>[u("div",$,[u("div",D,[s(k,{"max-width":"505",src:l(e),class:"auth-illustration mt-16 mb-2"},null,8,["src"])]),s(k,{src:l(S),class:"auth-footer-mask"},null,8,["src"])])]),_:1}),s(f,{cols:"12",lg:"4",class:"d-flex align-center justify-center"},{default:o(()=>[s(C,{flat:"","max-width":500,class:"mt-12 mt-sm-0 pa-4"},{default:o(()=>[s(_,null,{default:o(()=>[s(l(P),{nodes:l(J).app.logo,class:"mb-6"},null,8,["nodes"]),E,R]),_:1}),s(_,null,{default:o(()=>[s(b,null,{default:o(()=>[s(f,{cols:"12"},{default:o(()=>[s(f,{cols:"12"},{default:o(()=>[s(p,{disabled:t.check_top,modelValue:t.username,"onUpdate:modelValue":a[0]||(a[0]=r=>t.username=r),label:"Username",type:"text",rules:[l(w)]},null,8,["disabled","modelValue","rules"]),q,s(p,{disabled:t.check_top,modelValue:t.password_login,"onUpdate:modelValue":a[1]||(a[1]=r=>t.password_login=r),label:"Password",type:l(d)?"text":"password",rules:[l(w)],"append-inner-icon":l(d)?"tabler-eye-off":"tabler-eye","onClick:appendInner":a[2]||(a[2]=r=>d.value=!l(d))},null,8,["disabled","modelValue","type","rules","append-inner-icon"])]),_:1}),u("div",F,[t.check_top==!0?(m(),c(p,{key:0,modelValue:t.otp,"onUpdate:modelValue":a[3]||(a[3]=r=>t.otp=r),label:"\u0E22\u0E37\u0E19\u0E22\u0E31\u0E19 OTP",type:"text"},null,8,["modelValue"])):g("",!0)]),t.check_top==!0?(m(),c(y,{key:0,block:"",type:"submit",onClick:a[4]||(a[4]=r=>t.confirm_otp())},{default:o(()=>[V(" \u0E22\u0E37\u0E19\u0E22\u0E31\u0E19 OTP ")]),_:1})):g("",!0),t.check_top==!1?(m(),c(y,{key:1,block:"",type:"submit",onClick:a[5]||(a[5]=r=>t.send_otp())},{default:o(()=>[V(" \u0E02\u0E2D\u0E23\u0E2B\u0E31\u0E2A OTP ")]),_:1})):g("",!0)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}});typeof O=="function"&&O(K);export{K as default};
